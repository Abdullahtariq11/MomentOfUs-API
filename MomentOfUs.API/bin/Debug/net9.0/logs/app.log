2025-02-01 20:14:38.3861 Info Application Starting Up... 
2025-02-01 20:14:38.5713 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:14:38.7481 Info Now listening on: https://localhost:7241 
2025-02-01 20:14:38.7481 Info Now listening on: http://localhost:5063 
2025-02-01 20:14:38.7492 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:14:38.7494 Info Hosting environment: Development 
2025-02-01 20:14:38.7494 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:14:39.0035 Info Request starting HTTP/2 GET https://localhost:7241/swagger - - - 
2025-02-01 20:14:39.1096 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:14:39.1096 Info Request finished HTTP/2 GET https://localhost:7241/swagger - 301 0 - 102.7961ms 
2025-02-01 20:14:39.1611 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 51.4456ms 
2025-02-01 20:14:39.1744 Info Request starting HTTP/2 GET https://localhost:7241/swagger/swagger-ui.css - - - 
2025-02-01 20:14:39.1744 Info Request starting HTTP/2 GET https://localhost:7241/swagger/swagger-ui-standalone-preset.js - - - 
2025-02-01 20:14:39.1744 Info Request starting HTTP/2 GET https://localhost:7241/swagger/swagger-ui-bundle.js - - - 
2025-02-01 20:14:39.2453 Info Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A' 
2025-02-01 20:14:39.2454 Info Request finished HTTP/2 GET https://localhost:7241/swagger/swagger-ui.css - 200 143943 text/css 71.0005ms 
2025-02-01 20:14:39.2504 Info Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A' 
2025-02-01 20:14:39.2506 Info Request finished HTTP/2 GET https://localhost:7241/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 76.0674ms 
2025-02-01 20:14:39.2624 Info Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A' 
2025-02-01 20:14:39.2624 Info Request finished HTTP/2 GET https://localhost:7241/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 88.0914ms 
2025-02-01 20:14:39.3656 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:14:39.3855 Info Request starting HTTP/2 GET https://localhost:7241/swagger/favicon-32x32.png - - - 
2025-02-01 20:14:39.3855 Info Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A' 
2025-02-01 20:14:39.3855 Info Request finished HTTP/2 GET https://localhost:7241/swagger/favicon-32x32.png - 200 628 image/png 0.2811ms 
2025-02-01 20:14:39.4010 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 35.4097ms 
2025-02-01 20:15:03.7458 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:15:03.7516 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:15:03.7733 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:15:03.8647 Info Registering User 
2025-02-01 20:15:04.3915 Error Failed executing DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:15:04.4004 Error An exception occurred while iterating over the results of a query for context type 'MomentOfUs.Infrastructure.RepositoryContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-01 20:20:25.9975 Info Application Starting Up... 
2025-02-01 20:20:26.1972 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:20:26.3804 Info Now listening on: https://localhost:7241 
2025-02-01 20:20:26.3804 Info Now listening on: http://localhost:5063 
2025-02-01 20:20:26.3804 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:20:26.3816 Info Hosting environment: Development 
2025-02-01 20:20:26.3816 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:20:26.6385 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:20:26.7203 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 70.0096ms 
2025-02-01 20:20:26.8228 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:20:26.8609 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 37.9801ms 
2025-02-01 20:20:32.2456 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 96 
2025-02-01 20:20:32.2542 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:20:32.2740 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:20:32.3568 Info Registering User 
2025-02-01 20:20:32.3585 Info Generating JWT Token 
2025-02-01 20:22:30.9928 Info Application Starting Up... 
2025-02-01 20:22:31.1507 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:22:31.2886 Info Now listening on: https://localhost:7241 
2025-02-01 20:22:31.2886 Info Now listening on: http://localhost:5063 
2025-02-01 20:22:31.2895 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:22:31.2895 Info Hosting environment: Development 
2025-02-01 20:22:31.2895 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:22:31.5148 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:22:31.5973 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 69.6180ms 
2025-02-01 20:22:31.6651 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:22:31.7460 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 80.9526ms 
2025-02-01 20:23:04.0116 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:23:04.0188 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:23:04.0337 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:23:04.1168 Info Registering User 
2025-02-01 20:23:04.5201 Error Failed executing DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:23:04.5291 Error An exception occurred while iterating over the results of a query for context type 'MomentOfUs.Infrastructure.RepositoryContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-01 20:26:55.4754 Info Application Starting Up... 
2025-02-01 20:26:55.6418 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:26:55.8203 Info Now listening on: https://localhost:7241 
2025-02-01 20:26:55.8203 Info Now listening on: http://localhost:5063 
2025-02-01 20:26:55.8214 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:26:55.8214 Info Hosting environment: Development 
2025-02-01 20:26:55.8214 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:26:56.0341 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:26:56.1195 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 73.0901ms 
2025-02-01 20:26:56.2076 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:26:56.2405 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 32.8733ms 
2025-02-01 20:27:03.6051 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:27:03.6128 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:27:03.6335 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:27:03.7121 Info Registering User 
2025-02-01 20:27:04.0886 Error Failed executing DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:27:04.0968 Error An exception occurred while iterating over the results of a query for context type 'MomentOfUs.Infrastructure.RepositoryContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-01 20:29:17.4763 Info Application Starting Up... 
2025-02-01 20:29:17.6979 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:29:17.8806 Info Now listening on: https://localhost:7241 
2025-02-01 20:29:17.8806 Info Now listening on: http://localhost:5063 
2025-02-01 20:29:17.8815 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:29:17.8815 Info Hosting environment: Development 
2025-02-01 20:29:17.8815 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:29:18.0463 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:29:18.1545 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 92.3914ms 
2025-02-01 20:29:18.2270 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:29:18.2623 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 35.2382ms 
2025-02-01 20:29:22.9721 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:29:22.9813 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:29:23.0011 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:29:23.0812 Info Registering User 
2025-02-01 20:29:23.4508 Error An error occurred using the connection to database 'main' on server '/Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/MomentOfUs.Infrastructure/MomentOfUs.db'. 
2025-02-01 20:29:23.4575 Error An exception occurred while iterating over the results of a query for context type 'MomentOfUs.Infrastructure.RepositoryContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 14: 'unable to open database file'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)
   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetConnection(SqliteConnection outerConnection)
   at Microsoft.Data.Sqlite.SqliteConnection.Open()
   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 14: 'unable to open database file'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)
   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetConnection(SqliteConnection outerConnection)
   at Microsoft.Data.Sqlite.SqliteConnection.Open()
   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-01 20:31:13.8336 Info Application Starting Up... 
2025-02-01 20:31:14.0332 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:31:14.1895 Info Now listening on: https://localhost:7241 
2025-02-01 20:31:14.1895 Info Now listening on: http://localhost:5063 
2025-02-01 20:31:14.1895 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:31:14.1907 Info Hosting environment: Development 
2025-02-01 20:31:14.1907 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:31:14.3542 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:31:14.4293 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 62.4265ms 
2025-02-01 20:31:14.4961 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:31:14.5547 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 58.5758ms 
2025-02-01 20:31:17.8313 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:31:17.8409 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:31:17.8605 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:31:17.9385 Info Registering User 
2025-02-01 20:31:18.3009 Error An error occurred using the connection to database 'main' on server '/Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/MomentOfUs.Infrastructure/MomentOfUs.db'. 
2025-02-01 20:31:18.3073 Error An exception occurred while iterating over the results of a query for context type 'MomentOfUs.Infrastructure.RepositoryContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 14: 'unable to open database file'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)
   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetConnection(SqliteConnection outerConnection)
   at Microsoft.Data.Sqlite.SqliteConnection.Open()
   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 14: 'unable to open database file'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)
   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetConnection(SqliteConnection outerConnection)
   at Microsoft.Data.Sqlite.SqliteConnection.Open()
   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-01 20:33:33.3733 Info Application Starting Up... 
2025-02-01 20:33:33.5524 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:33:33.7215 Info Now listening on: https://localhost:7241 
2025-02-01 20:33:33.7215 Info Now listening on: http://localhost:5063 
2025-02-01 20:33:33.7225 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:33:33.7225 Info Hosting environment: Development 
2025-02-01 20:33:33.7225 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:33:33.8641 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:33:34.0047 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 123.5525ms 
2025-02-01 20:33:34.0701 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:33:34.1511 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 80.9872ms 
2025-02-01 20:33:38.1710 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:33:38.1803 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:33:38.1997 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:33:38.2819 Info Registering User 
2025-02-01 20:33:38.6650 Info Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:33:38.6730 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:33:38.7277 Info Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 26), @p4='?' (DbType = Boolean), @p5='?' (Size = 8), @p6='?' (Size = 5), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 26), @p10='?' (Size = 26), @p11='?' (Size = 84), @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (Size = 32), @p16='?' (DbType = Boolean), @p17='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "ProfileImageUrl", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17); 
2025-02-01 20:33:38.7330 Info Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2 
2025-02-01 20:33:38.7346 Info Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2 
2025-02-01 20:36:07.3493 Info Application Starting Up... 
2025-02-01 20:36:07.5263 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:36:07.7445 Info Now listening on: https://localhost:7241 
2025-02-01 20:36:07.7445 Info Now listening on: http://localhost:5063 
2025-02-01 20:36:07.7454 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:36:07.7454 Info Hosting environment: Development 
2025-02-01 20:36:07.7454 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:36:07.9244 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:36:08.0400 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 99.1729ms 
2025-02-01 20:36:08.1055 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:36:08.1662 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 60.7555ms 
2025-02-01 20:36:11.1730 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:36:11.1830 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:36:11.2018 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:36:11.2794 Info Registering User 
2025-02-01 20:36:11.6590 Info Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:36:11.6901 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:36:11.6913 Info Generating JWT Token 
2025-02-01 20:36:11.7057 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:37:28.1019 Info Application Starting Up... 
2025-02-01 20:37:28.2808 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:37:28.4490 Info Now listening on: https://localhost:7241 
2025-02-01 20:37:28.4490 Info Now listening on: http://localhost:5063 
2025-02-01 20:37:28.4500 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:37:28.4500 Info Hosting environment: Development 
2025-02-01 20:37:28.4500 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:37:28.5511 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:37:28.6113 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 52.2070ms 
2025-02-01 20:37:28.6790 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:37:28.7186 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 39.5150ms 
2025-02-01 20:37:31.7116 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:37:31.7197 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:37:31.7390 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:37:31.8212 Info Registering User 
2025-02-01 20:37:32.2013 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:37:32.2326 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:37:32.2337 Info Generating JWT Token 
2025-02-01 20:37:32.2473 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:37:32.2573 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 20:37:32.2641 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 523.1108ms 
2025-02-01 20:37:32.2641 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:37:32.2662 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 554.7237ms 
2025-02-01 20:46:43.3561 Info Application Starting Up... 
2025-02-01 20:46:43.5536 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:46:43.7031 Info Now listening on: https://localhost:7241 
2025-02-01 20:46:43.7031 Info Now listening on: http://localhost:5063 
2025-02-01 20:46:43.7039 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:46:43.7039 Info Hosting environment: Development 
2025-02-01 20:46:43.7039 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:46:43.8794 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:46:43.9672 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 83.1457ms 
2025-02-01 20:46:44.0534 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:46:44.0898 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 36.3805ms 
2025-02-01 20:46:48.3391 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:46:48.3485 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:46:48.3677 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:46:48.4453 Info Registering User 
2025-02-01 20:46:48.8226 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:46:48.8532 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:46:48.8543 Info Generating JWT Token 
2025-02-01 20:46:48.8683 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:46:48.8776 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 20:46:48.8843 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 514.6371ms 
2025-02-01 20:46:48.8843 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:46:48.8864 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 547.3839ms 
2025-02-01 20:46:55.1965 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:46:55.1980 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:46:55.1980 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:46:55.2021 Info Registering User 
2025-02-01 20:46:55.2754 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:46:55.2761 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:46:55.2761 Info Generating JWT Token 
2025-02-01 20:46:55.2761 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:46:55.2773 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 20:46:55.2773 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 78.6674ms 
2025-02-01 20:46:55.2773 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:46:55.2773 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 81.3114ms 
2025-02-01 20:47:41.2816 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 119 
2025-02-01 20:47:41.2828 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:47:41.2831 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:47:41.2982 Info Registering User 
2025-02-01 20:47:41.3542 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 25)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:47:41.3542 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 25)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:47:41.3928 Info Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 25), @p4='?' (DbType = Boolean), @p5='?' (Size = 8), @p6='?' (Size = 5), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 25), @p10='?' (Size = 25), @p11='?' (Size = 84), @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (Size = 32), @p16='?' (DbType = Boolean), @p17='?' (Size = 25)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "ProfileImageUrl", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17); 
2025-02-01 20:47:41.3994 Info Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2 
2025-02-01 20:47:41.4084 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 1)], CommandType='Text', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1 
2025-02-01 20:47:41.4093 Info Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2 
2025-02-01 20:47:41.4125 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 25)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:47:41.4125 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 25)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:47:41.4202 Info Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 1), @p1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1); 
2025-02-01 20:47:41.4212 Info Executed DbCommand (0ms) [Parameters=[@p17='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p18='?' (Size = 36), @p2='?' (Size = 25), @p3='?' (DbType = Boolean), @p4='?' (Size = 8), @p5='?' (Size = 5), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 25), @p9='?' (Size = 25), @p10='?' (Size = 84), @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (Size = 32), @p15='?' (DbType = Boolean), @p16='?' (Size = 25)], CommandType='Text', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FirstName" = @p4, "LastName" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "ProfileImageUrl" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18
RETURNING 1; 
2025-02-01 20:47:41.4237 Info Generating JWT Token 
2025-02-01 20:47:41.4241 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:47:41.4241 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 20:47:41.4241 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 141.3232ms 
2025-02-01 20:47:41.4241 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:47:41.4241 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 143.0496ms 
2025-02-01 20:47:50.1872 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:47:50.1872 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:47:50.1882 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:47:50.1893 Info Registering User 
2025-02-01 20:47:50.2498 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:47:50.2502 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:47:50.2502 Info Generating JWT Token 
2025-02-01 20:47:50.2502 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:47:50.2512 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 20:47:50.2512 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 63.1647ms 
2025-02-01 20:47:50.2512 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:47:50.2512 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 64.3608ms 
2025-02-01 20:54:00.7448 Info Application Starting Up... 
2025-02-01 20:54:00.9535 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:54:01.1638 Info Now listening on: https://localhost:7241 
2025-02-01 20:54:01.1638 Info Now listening on: http://localhost:5063 
2025-02-01 20:54:01.1648 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:54:01.1648 Info Hosting environment: Development 
2025-02-01 20:54:01.1648 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:54:01.3062 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:54:01.3844 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 64.9633ms 
2025-02-01 20:54:01.4518 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:54:01.4861 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 34.2437ms 
2025-02-01 20:54:05.0702 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:54:05.0780 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:05.0994 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:54:05.1827 Info Registering User 
2025-02-01 20:54:05.5607 Info Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:54:05.5915 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:54:05.5926 Info Generating JWT Token 
2025-02-01 20:54:05.6065 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:54:05.6162 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 20:54:05.6228 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 521.3374ms 
2025-02-01 20:54:05.6228 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:05.6248 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 554.6845ms 
2025-02-01 20:54:08.9910 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:54:08.9919 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:08.9923 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:54:08.9949 Info Registering User 
2025-02-01 20:54:09.0694 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:54:09.0701 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:54:09.0701 Info Generating JWT Token 
2025-02-01 20:54:09.0701 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:54:09.0712 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 20:54:09.0712 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 79.0139ms 
2025-02-01 20:54:09.0712 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:09.0712 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 80.7259ms 
2025-02-01 20:54:12.6145 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:54:12.6145 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:12.6152 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:54:12.6326 Info Registering User 
2025-02-01 20:54:12.6883 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:54:12.6883 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:54:12.6883 Info Generating JWT Token 
2025-02-01 20:54:12.6892 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:54:12.6892 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 20:54:12.6892 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 74.3335ms 
2025-02-01 20:54:12.6892 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:12.6892 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 75.2798ms 
2025-02-01 20:54:16.0032 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:54:16.0032 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:16.0032 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:54:16.0049 Info Registering User 
2025-02-01 20:54:16.0580 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:54:16.0584 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:54:16.0584 Info Generating JWT Token 
2025-02-01 20:54:16.0584 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:54:16.0584 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 20:54:16.0592 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 55.1853ms 
2025-02-01 20:54:16.0592 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:16.0592 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 56.1063ms 
2025-02-01 20:54:16.7232 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:54:16.7232 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:16.7232 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:54:16.7248 Info Registering User 
2025-02-01 20:54:16.7850 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:54:16.7854 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:54:16.7854 Info Generating JWT Token 
2025-02-01 20:54:16.7854 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:54:16.7854 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 20:54:16.7862 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 62.2978ms 
2025-02-01 20:54:16.7862 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:16.7862 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 63.1385ms 
2025-02-01 20:54:17.3038 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:54:17.3045 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:17.3045 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:54:17.3071 Info Registering User 
2025-02-01 20:54:17.3674 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:54:17.3674 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:54:17.3674 Info Generating JWT Token 
2025-02-01 20:54:17.3683 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 20:54:17.3683 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 20:54:17.3683 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 63.9006ms 
2025-02-01 20:54:17.3683 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:54:17.3683 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 65.1150ms 
2025-02-01 20:58:02.2516 Info Application Starting Up... 
2025-02-01 20:58:02.4358 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 20:58:02.5950 Info Now listening on: https://localhost:7241 
2025-02-01 20:58:02.5950 Info Now listening on: http://localhost:5063 
2025-02-01 20:58:02.5959 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 20:58:02.5959 Info Hosting environment: Development 
2025-02-01 20:58:02.5959 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 20:58:02.7850 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 20:58:02.8594 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 64.3679ms 
2025-02-01 20:58:02.9244 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 20:58:02.9575 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 32.9875ms 
2025-02-01 20:58:08.2625 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 20:58:08.2697 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 20:58:08.2845 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 20:58:08.3632 Info Registering User 
2025-02-01 20:58:08.7476 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 20:58:08.7914 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 20:58:08.8300 Error Database update error while creating user. MomentOfUs.Domain.Exceptions.BadRequestException: User creation failed: Username 'abdullahtariq096@gmail.com' is already taken., Email 'abdullahtariq096@gmail.com' is already taken.
   at MomentOfUs.Application.Service.AuthService.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 108
2025-02-01 21:01:10.5024 Info Application Starting Up... 
2025-02-01 21:01:10.6871 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 21:01:10.8981 Info Now listening on: https://localhost:7241 
2025-02-01 21:01:10.8988 Info Now listening on: http://localhost:5063 
2025-02-01 21:01:10.9000 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 21:01:10.9000 Info Hosting environment: Development 
2025-02-01 21:01:10.9002 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 21:01:11.1196 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 21:01:11.2064 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 70.9324ms 
2025-02-01 21:01:11.2849 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 21:01:11.3649 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 80.0250ms 
2025-02-01 21:01:13.5646 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 21:01:13.5760 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 21:01:13.5950 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 21:01:13.6750 Info Registering User 
2025-02-01 21:01:14.0539 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 21:01:14.0850 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 21:02:23.1771 Info Application Starting Up... 
2025-02-01 21:02:23.3518 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 21:02:23.5239 Info Now listening on: https://localhost:7241 
2025-02-01 21:02:23.5239 Info Now listening on: http://localhost:5063 
2025-02-01 21:02:23.5249 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 21:02:23.5249 Info Hosting environment: Development 
2025-02-01 21:02:23.5249 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 21:02:23.6515 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 21:02:23.7566 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 87.7918ms 
2025-02-01 21:02:23.8172 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 21:02:23.8999 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 82.6659ms 
2025-02-01 21:02:28.6883 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 21:02:28.6964 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 21:02:28.7182 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 21:02:28.7986 Info Registering User 
2025-02-01 21:02:29.1855 Info Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 21:02:29.2162 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 21:02:29.2173 Info Generating JWT Token 
2025-02-01 21:02:29.2316 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 21:02:29.2408 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 21:02:29.2475 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 527.2583ms 
2025-02-01 21:02:29.2475 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 21:02:29.2495 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 561.4120ms 
2025-02-01 21:02:33.4880 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 120 
2025-02-01 21:02:33.4896 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 21:02:33.4896 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 21:02:33.4930 Info Registering User 
2025-02-01 21:02:33.5676 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-01 21:02:33.5676 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 21:02:33.5684 Info Generating JWT Token 
2025-02-01 21:02:33.5684 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 21:02:33.5695 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 21:02:33.5695 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 79.3542ms 
2025-02-01 21:02:33.5695 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 21:02:33.5695 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 81.9474ms 
2025-02-01 21:06:02.3808 Info Application Starting Up... 
2025-02-01 21:06:02.5313 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 21:06:02.7714 Info Now listening on: https://localhost:7241 
2025-02-01 21:06:02.7714 Info Now listening on: http://localhost:5063 
2025-02-01 21:06:02.7725 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 21:06:02.7725 Info Hosting environment: Development 
2025-02-01 21:06:02.7725 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 21:06:02.9131 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 21:06:02.9843 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 60.8814ms 
2025-02-01 21:06:03.0505 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 21:06:03.0865 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 36.0503ms 
2025-02-01 21:06:27.6214 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 116 
2025-02-01 21:06:27.6295 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 21:06:27.6472 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 21:06:27.7435 Info Registering User 
2025-02-01 21:06:27.7452 Info Generating JWT Token 
2025-02-01 21:06:28.0809 Info Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-01 21:06:28.0936 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-01 21:06:28.1003 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 451.0383ms 
2025-02-01 21:06:28.1003 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 21:06:28.1023 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 201 - text/plain;+charset=utf-8 481.0500ms 
2025-02-01 21:10:55.1488 Info Application Starting Up... 
2025-02-01 21:10:55.3503 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-01 21:10:55.5453 Info Now listening on: https://localhost:7241 
2025-02-01 21:10:55.5453 Info Now listening on: http://localhost:5063 
2025-02-01 21:10:55.5462 Info Application started. Press Ctrl+C to shut down. 
2025-02-01 21:10:55.5462 Info Hosting environment: Development 
2025-02-01 21:10:55.5462 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-01 21:10:55.7104 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-01 21:10:55.7907 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 69.8495ms 
2025-02-01 21:10:55.8584 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-01 21:10:55.8943 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 35.7881ms 
2025-02-01 21:11:03.6261 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Register - application/json 116 
2025-02-01 21:11:03.6357 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 21:11:03.6553 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-01 21:11:03.7335 Info Registering User 
2025-02-01 21:11:04.0747 Info Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-01 21:11:07.1740 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 3514.2893ms 
2025-02-01 21:11:07.1750 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-01 21:11:07.1851 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with same email exist
   at MomentOfUs.Application.Service.AuthService.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 96
   at MomentOfUs.API.Controllers.UserController.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.Invoke(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 26
2025-02-01 21:11:07.1977 Warn BadRequestException: User with same email exist 
2025-02-01 21:11:07.2022 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Register - 400 - application/json 3576.2217ms 
2025-02-03 21:00:26.3214 Info Application Starting Up... 
2025-02-03 21:00:26.5037 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-03 21:00:26.6567 Info Now listening on: https://localhost:7241 
2025-02-03 21:00:26.6567 Info Now listening on: http://localhost:5063 
2025-02-03 21:00:26.6576 Info Application started. Press Ctrl+C to shut down. 
2025-02-03 21:00:26.6576 Info Hosting environment: Development 
2025-02-03 21:00:26.6576 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-03 21:00:26.8976 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-03 21:00:26.9806 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 68.4250ms 
2025-02-03 21:00:27.0600 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-03 21:00:27.0979 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 37.8605ms 
2025-02-03 21:42:22.2179 Info Application Starting Up... 
2025-02-03 21:42:22.3938 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-03 21:42:22.5621 Info Now listening on: https://localhost:7241 
2025-02-03 21:42:22.5621 Info Now listening on: http://localhost:5063 
2025-02-03 21:42:22.5631 Info Application started. Press Ctrl+C to shut down. 
2025-02-03 21:42:22.5631 Info Hosting environment: Development 
2025-02-03 21:42:22.5631 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-03 21:42:22.7821 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-03 21:42:22.8674 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 73.2213ms 
2025-02-03 21:42:22.9638 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-03 21:42:23.0117 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 47.9689ms 
2025-02-03 21:42:49.2531 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Login - application/json 95 
2025-02-03 21:42:49.2658 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-03 21:42:49.2769 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-03 21:42:49.3522 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-03 21:42:49.7212 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-03 21:42:49.7986 Info Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-03 21:42:49.8054 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-03 21:42:49.8094 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-03 21:42:49.8106 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-03 21:42:49.8118 Info Generating JWT Token 
2025-02-03 21:42:49.8118 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-03 21:42:49.8227 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-03 21:42:49.8297 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 550.8142ms 
2025-02-03 21:42:49.8297 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-03 21:42:49.8318 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Login - 201 - text/plain;+charset=utf-8 578.7286ms 
2025-02-03 21:42:58.9672 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Login - application/json 95 
2025-02-03 21:42:58.9685 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-03 21:42:58.9688 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-03 21:42:58.9707 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-03 21:42:59.0071 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-03 21:48:42.9608 Info Application Starting Up... 
2025-02-03 21:48:43.1735 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-03 21:48:43.3936 Info Now listening on: https://localhost:7241 
2025-02-03 21:48:43.3936 Info Now listening on: http://localhost:5063 
2025-02-03 21:48:43.3947 Info Application started. Press Ctrl+C to shut down. 
2025-02-03 21:48:43.3947 Info Hosting environment: Development 
2025-02-03 21:48:43.3947 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-03 21:48:43.6667 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-03 21:48:43.7607 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 81.1341ms 
2025-02-03 21:48:43.8313 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-03 21:48:43.9158 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 84.4170ms 
2025-02-03 21:48:49.0900 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Login - application/json 72 
2025-02-03 21:48:49.0990 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-03 21:48:49.1183 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-03 21:48:49.2004 Info Logging in user:string 
2025-02-03 21:48:49.5485 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 6)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-03 21:49:08.0613 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 18938.1268ms 
2025-02-03 21:49:08.0625 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-03 21:49:08.0763 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Inavlid Login Attempt
   at MomentOfUs.Application.Service.AuthService.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 83
   at MomentOfUs.API.Controllers.UserController.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-03 21:49:08.0980 Warn BadRequestException: Inavlid Login Attempt 
2025-02-03 21:49:08.1331 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Login - 400 - application/json 19043.1986ms 
2025-02-03 21:49:15.2882 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Login - application/json 72 
2025-02-03 21:49:15.2898 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-03 21:49:15.2904 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-03 21:49:15.2932 Info Logging in user:string 
2025-02-03 21:49:15.3322 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 6)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-03 21:49:25.0030 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 9712.142ms 
2025-02-03 21:49:25.0046 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-03 21:49:25.0188 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Inavlid Login Attempt
   at MomentOfUs.Application.Service.AuthService.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 83
   at MomentOfUs.API.Controllers.UserController.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-03 21:49:25.0201 Warn BadRequestException: Inavlid Login Attempt 
2025-02-03 21:49:25.0206 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Login - 400 - application/json 9732.4305ms 
2025-02-03 22:01:00.7403 Info Application Starting Up... 
2025-02-03 22:01:00.9104 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-03 22:01:01.0612 Info Now listening on: https://localhost:7241 
2025-02-03 22:01:01.0612 Info Now listening on: http://localhost:5063 
2025-02-03 22:01:01.0622 Info Application started. Press Ctrl+C to shut down. 
2025-02-03 22:01:01.0622 Info Hosting environment: Development 
2025-02-03 22:01:01.0622 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-03 22:01:01.2791 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-03 22:01:01.3804 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 89.4990ms 
2025-02-03 22:01:01.4715 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-03 22:01:01.5372 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 65.6610ms 
2025-02-03 22:01:06.0757 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Logout - - 0 
2025-02-03 22:01:06.0851 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Logout (MomentOfUs.API)' 
2025-02-03 22:01:06.1006 Info Route matched with {action = "Logout", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-03 22:01:06.1736 Info logging user out with Id:(null) 
2025-02-03 22:01:54.0893 Info Application Starting Up... 
2025-02-03 22:01:54.2940 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-03 22:01:54.4822 Info Now listening on: https://localhost:7241 
2025-02-03 22:01:54.4822 Info Now listening on: http://localhost:5063 
2025-02-03 22:01:54.4831 Info Application started. Press Ctrl+C to shut down. 
2025-02-03 22:01:54.4831 Info Hosting environment: Development 
2025-02-03 22:01:54.4831 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-03 22:01:54.6172 Info Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - - - 
2025-02-03 22:01:54.6914 Info Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - 200 - text/html;charset=utf-8 63.9491ms 
2025-02-03 22:01:54.7615 Info Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 
2025-02-03 22:01:54.8077 Info Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 46.1048ms 
2025-02-03 22:01:58.3202 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Login - application/json 95 
2025-02-03 22:01:58.3280 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-03 22:01:58.3477 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-03 22:01:58.4287 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-03 22:01:58.7725 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-03 22:01:58.8487 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-03 22:01:58.8561 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-03 22:01:58.8606 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-03 22:01:58.8619 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-03 22:01:58.8630 Info Generating JWT Token 
2025-02-03 22:01:58.8634 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-03 22:01:58.8737 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-03 22:01:58.8810 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 531.1722ms 
2025-02-03 22:01:58.8811 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-03 22:01:58.8832 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Login - 201 - text/plain;+charset=utf-8 563.0419ms 
2025-02-03 22:02:01.5211 Info Request starting HTTP/2 POST https://localhost:7241/api/Users/Logout - - 0 
2025-02-03 22:02:01.5243 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Logout (MomentOfUs.API)' 
2025-02-03 22:02:01.5313 Info Route matched with {action = "Logout", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-03 22:02:01.5352 Info logging user out with Id:(null) 
2025-02-03 22:03:41.3259 Info Executed action MomentOfUs.API.Controllers.UserController.Logout (MomentOfUs.API) in 99793.7205ms 
2025-02-03 22:03:41.3272 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Logout (MomentOfUs.API)' 
2025-02-03 22:03:41.3355 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Unable to load user with id 
   at MomentOfUs.Application.Service.AuthService.Logout(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 96
   at MomentOfUs.API.Controllers.UserController.Logout() in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-03 22:03:41.3538 Warn BadRequestException: Unable to load user with id  
2025-02-03 22:03:41.3824 Info Request finished HTTP/2 POST https://localhost:7241/api/Users/Logout - 400 - application/json 99861.0171ms 
2025-02-05 20:10:00.2982 Info Application Starting Up... 
2025-02-05 20:10:00.4858 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-05 20:10:00.5294 Info Now listening on: http://localhost:5063 
2025-02-05 20:10:00.5302 Info Application started. Press Ctrl+C to shut down. 
2025-02-05 20:10:00.5302 Info Hosting environment: Development 
2025-02-05 20:10:00.5302 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-05 20:10:00.6365 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-05 20:10:00.7337 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 93.8752ms 
2025-02-05 20:10:00.7404 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/swagger-ui-standalone-preset.js - - - 
2025-02-05 20:10:00.7404 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/swagger-ui-bundle.js - - - 
2025-02-05 20:10:00.7409 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/swagger-ui.css - - - 
2025-02-05 20:10:00.7845 Info Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A' 
2025-02-05 20:10:00.7845 Info Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A' 
2025-02-05 20:10:00.7855 Info Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A' 
2025-02-05 20:10:00.7860 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/swagger-ui.css - 200 143943 text/css 45.0220ms 
2025-02-05 20:10:00.7860 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 46.1210ms 
2025-02-05 20:10:00.7860 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 45.7407ms 
2025-02-05 20:10:00.8883 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-05 20:10:00.9308 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 42.5250ms 
2025-02-05 20:12:05.9791 Info Application Starting Up... 
2025-02-05 20:12:06.1649 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-05 20:12:06.2093 Info Now listening on: http://localhost:5063 
2025-02-05 20:12:06.2101 Info Application started. Press Ctrl+C to shut down. 
2025-02-05 20:12:06.2101 Info Hosting environment: Development 
2025-02-05 20:12:06.2101 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-05 20:12:06.2771 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-05 20:12:06.3724 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 83.8460ms 
2025-02-05 20:12:06.4687 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-05 20:12:06.5153 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 46.6605ms 
2025-02-05 20:14:31.2766 Info Application Starting Up... 
2025-02-05 20:14:31.4315 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-05 20:14:31.4699 Info Now listening on: http://localhost:5063 
2025-02-05 20:14:31.4708 Info Application started. Press Ctrl+C to shut down. 
2025-02-05 20:14:31.4708 Info Hosting environment: Development 
2025-02-05 20:14:31.4711 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-05 20:14:31.5480 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-05 20:14:31.6643 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 107.0654ms 
2025-02-05 20:14:31.7303 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-05 20:14:31.7719 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 41.5928ms 
2025-02-05 20:14:57.6436 Info Application Starting Up... 
2025-02-05 20:14:57.7847 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-05 20:14:57.8209 Info Now listening on: http://localhost:5063 
2025-02-05 20:14:57.8209 Info Application started. Press Ctrl+C to shut down. 
2025-02-05 20:14:57.8219 Info Hosting environment: Development 
2025-02-05 20:14:57.8219 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-05 20:14:57.8795 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-05 20:14:57.9413 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 53.6087ms 
2025-02-05 20:14:58.0103 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-05 20:14:58.0488 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 38.4644ms 
2025-02-05 20:15:32.0056 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 94 
2025-02-05 20:15:32.0132 Warn Failed to determine the https port for redirect. 
2025-02-05 20:15:32.0152 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:15:32.0302 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-05 20:15:32.1096 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-05 20:15:32.5303 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:15:37.2308 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 5195.3628ms 
2025-02-05 20:15:37.2319 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:15:37.2417 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Inavlid Login Attempt
   at MomentOfUs.Application.Service.AuthService.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 83
   at MomentOfUs.API.Controllers.UserController.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-05 20:15:37.2574 Warn BadRequestException: Inavlid Login Attempt 
2025-02-05 20:15:37.2865 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 400 - application/json 5280.9965ms 
2025-02-05 20:15:45.4322 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-05 20:15:45.4339 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:15:45.4345 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-05 20:15:45.4382 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-05 20:15:45.5040 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:15:45.5665 Info Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-05 20:15:45.5742 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:15:45.5788 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-05 20:15:45.5788 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:15:45.5803 Info Generating JWT Token 
2025-02-05 20:15:45.5803 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:15:45.5909 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-05 20:15:45.5962 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 161.5565ms 
2025-02-05 20:15:45.5962 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:15:45.5963 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 164.1795ms 
2025-02-05 20:16:15.4530 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:16:15.4877 Info Failed to validate the token. Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-02-06 4:15:45AM', Current time (UTC): '2025-02-06 4:16:15AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 20:16:15.4889 Info Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-02-06 4:15:45AM', Current time (UTC): '2025-02-06 4:16:15AM'. 
2025-02-05 20:16:15.4920 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:16:15.4945 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:16:15.4945 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 41.7589ms 
2025-02-05 20:16:40.3783 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:16:40.3809 Info Failed to validate the token. System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-02-05 20:16:40.3814 Info Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. 
2025-02-05 20:16:40.3827 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:16:40.3833 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:16:40.3833 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 31.6476ms 
2025-02-05 20:16:59.8423 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:16:59.8430 Info Failed to validate the token. System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-02-05 20:16:59.8430 Info Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. 
2025-02-05 20:16:59.8456 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:16:59.8456 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:16:59.8456 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 3.7182ms 
2025-02-05 20:17:13.1012 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:17:13.1299 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:17:13.1299 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:17:13.1299 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 29.4045ms 
2025-02-05 20:18:32.1263 Info Application Starting Up... 
2025-02-05 20:18:32.3216 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-05 20:18:32.3622 Info Now listening on: http://localhost:5063 
2025-02-05 20:18:32.3622 Info Application started. Press Ctrl+C to shut down. 
2025-02-05 20:18:32.3632 Info Hosting environment: Development 
2025-02-05 20:18:32.3632 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-05 20:18:32.4332 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-05 20:18:32.5291 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 86.2991ms 
2025-02-05 20:18:32.5956 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-05 20:18:32.6371 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 41.5225ms 
2025-02-05 20:18:41.6850 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-05 20:18:41.6923 Warn Failed to determine the https port for redirect. 
2025-02-05 20:18:41.6945 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:18:41.7122 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-05 20:18:41.7928 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-05 20:18:42.1381 Info Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:18:42.2170 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-05 20:18:42.2238 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:18:42.2281 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-05 20:18:42.2293 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:18:42.2304 Info Generating JWT Token 
2025-02-05 20:18:42.2308 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:18:42.2399 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-05 20:18:42.2470 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 533.0627ms 
2025-02-05 20:18:42.2470 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:18:42.2491 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 564.3412ms 
2025-02-05 20:19:57.2965 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:19:57.3110 Info Failed to validate the token. System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-02-05 20:19:57.3227 Info Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. 
2025-02-05 20:19:57.3256 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:19:57.3281 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:19:57.3281 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 32.0821ms 
2025-02-05 20:20:30.8900 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:20:30.8912 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:20:30.8912 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:20:30.8920 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 1.9141ms 
2025-02-05 20:22:15.5729 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:22:15.5737 Info Failed to validate the token. System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-02-05 20:22:15.5737 Info Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. 
2025-02-05 20:22:15.5768 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:22:15.5768 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:22:15.5776 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 4.6817ms 
2025-02-05 20:22:26.5119 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/Users - - - 
2025-02-05 20:22:26.5119 Info Failed to validate the token. System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-02-05 20:22:26.5128 Info Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. 
2025-02-05 20:22:26.5142 Info Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin) 
2025-02-05 20:22:26.5142 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:22:26.5142 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/Users - 401 0 - 2.7226ms 
2025-02-05 20:26:25.2630 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:26:25.2664 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:26:25.2664 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:26:25.2664 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 3.7421ms 
2025-02-05 20:26:52.2184 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:26:52.2478 Info Failed to validate the token. System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-02-05 20:26:52.2478 Info Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. 
2025-02-05 20:26:52.2478 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:26:52.2486 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:26:52.2486 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 30.4020ms 
2025-02-05 20:29:56.4295 Info Application Starting Up... 
2025-02-05 20:29:56.6020 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-05 20:29:56.6415 Info Now listening on: http://localhost:5063 
2025-02-05 20:29:56.6423 Info Application started. Press Ctrl+C to shut down. 
2025-02-05 20:29:56.6423 Info Hosting environment: Development 
2025-02-05 20:29:56.6423 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-05 20:29:56.7071 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-05 20:29:56.7730 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 57.0140ms 
2025-02-05 20:29:56.8414 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-05 20:29:56.8779 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 36.4621ms 
2025-02-05 20:30:14.1259 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 94 
2025-02-05 20:30:14.1348 Warn Failed to determine the https port for redirect. 
2025-02-05 20:30:14.1373 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:30:14.1556 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-05 20:30:14.2354 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-05 20:30:14.5794 Info Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:30:18.5896 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 4429.0279ms 
2025-02-05 20:30:18.5907 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:30:18.6005 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Inavlid Login Attempt
   at MomentOfUs.Application.Service.AuthService.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 83
   at MomentOfUs.API.Controllers.UserController.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-05 20:30:18.6168 Warn BadRequestException: Inavlid Login Attempt 
2025-02-05 20:30:18.6476 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 400 - application/json 4521.6025ms 
2025-02-05 20:30:25.1939 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-05 20:30:25.1952 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:30:25.1952 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-05 20:30:25.1982 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-05 20:30:25.2616 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:30:25.3228 Info Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-05 20:30:25.3300 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:30:25.3350 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-05 20:30:25.3350 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:30:25.3364 Info Generating JWT Token 
2025-02-05 20:30:25.3364 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:30:25.3467 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-05 20:30:25.3519 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 156.2565ms 
2025-02-05 20:30:25.3519 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:30:25.3521 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 158.2294ms 
2025-02-05 20:30:45.4411 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:30:45.4635 Info Failed to validate the token. Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-02-06 4:30:25AM', Current time (UTC): '2025-02-06 4:30:45AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 20:30:45.4644 Info Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-02-06 4:30:25AM', Current time (UTC): '2025-02-06 4:30:45AM'. 
2025-02-05 20:30:45.4668 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:30:45.4691 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:30:45.4691 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 28.1431ms 
2025-02-05 20:32:17.1041 Info Application Starting Up... 
2025-02-05 20:32:17.2579 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-05 20:32:17.2951 Info Now listening on: http://localhost:5063 
2025-02-05 20:32:17.2960 Info Application started. Press Ctrl+C to shut down. 
2025-02-05 20:32:17.2960 Info Hosting environment: Development 
2025-02-05 20:32:17.2960 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-05 20:32:17.3700 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-05 20:32:17.4335 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 54.3580ms 
2025-02-05 20:32:17.5003 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-05 20:32:17.5389 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 38.5947ms 
2025-02-05 20:32:23.4296 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-05 20:32:23.4712 Info Failed to validate the token. Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-02-06 4:30:25AM', Current time (UTC): '2025-02-06 4:32:23AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 20:32:23.4828 Info Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-02-06 4:30:25AM', Current time (UTC): '2025-02-06 4:32:23AM'. 
2025-02-05 20:32:23.4839 Warn Failed to determine the https port for redirect. 
2025-02-05 20:32:23.4846 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:32:23.4934 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-05 20:32:23.5542 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-05 20:32:23.8865 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:32:23.9642 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-05 20:32:23.9711 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:32:23.9753 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-05 20:32:23.9765 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:32:23.9776 Info Generating JWT Token 
2025-02-05 20:32:23.9781 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:32:23.9847 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-05 20:32:23.9919 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 496.435ms 
2025-02-05 20:32:23.9919 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:32:23.9941 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 564.4733ms 
2025-02-05 20:32:40.2104 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:32:40.3310 Info Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-05 20:32:40.3315 Info Bearer was not authenticated. Failure message: Unauthorized 
2025-02-05 20:32:40.3339 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:32:40.3359 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:32:40.3359 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 125.7780ms 
2025-02-05 20:33:03.4231 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:33:03.4390 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-05 20:33:03.4393 Info Bearer was not authenticated. Failure message: Unauthorized 
2025-02-05 20:33:03.4393 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:33:03.4393 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:33:03.4401 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 17.0197ms 
2025-02-05 20:36:08.2102 Info Application Starting Up... 
2025-02-05 20:36:08.4149 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-05 20:36:08.4567 Info Now listening on: http://localhost:5063 
2025-02-05 20:36:08.4575 Info Application started. Press Ctrl+C to shut down. 
2025-02-05 20:36:08.4575 Info Hosting environment: Development 
2025-02-05 20:36:08.4575 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-05 20:36:08.5544 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-05 20:36:08.6402 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 76.6185ms 
2025-02-05 20:36:08.7062 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-05 20:36:08.7719 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 65.5988ms 
2025-02-05 20:36:26.3601 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-05 20:36:26.3674 Warn Failed to determine the https port for redirect. 
2025-02-05 20:36:26.3702 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:36:26.3891 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-05 20:36:26.4674 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-05 20:36:26.8068 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:36:26.8842 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-05 20:36:26.8907 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:36:26.8948 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-05 20:36:26.8959 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:36:26.8968 Info Generating JWT Token 
2025-02-05 20:36:26.8972 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:36:26.9088 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-05 20:36:26.9159 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 524.8231ms 
2025-02-05 20:36:26.9159 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:36:26.9179 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 557.8402ms 
2025-02-05 20:36:48.2512 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:36:48.3208 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-05 20:36:48.3213 Info Bearer was not authenticated. Failure message: Unauthorized 
2025-02-05 20:36:48.3232 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:36:48.3249 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:36:48.3249 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 73.9476ms 
2025-02-05 20:37:10.6949 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:37:10.6973 Info Failed to validate the token. Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14120: JWT is not well formed, there is only one dot (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-02-05 20:37:10.7098 Info Bearer was not authenticated. Failure message: IDX14120: JWT is not well formed, there is only one dot (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'. 
2025-02-05 20:37:10.7098 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:37:10.7105 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:37:10.7105 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 15.6455ms 
2025-02-05 20:41:14.5129 Info Application Starting Up... 
2025-02-05 20:41:14.7223 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-05 20:41:14.7666 Info Now listening on: http://localhost:5063 
2025-02-05 20:41:14.7676 Info Application started. Press Ctrl+C to shut down. 
2025-02-05 20:41:14.7676 Info Hosting environment: Development 
2025-02-05 20:41:14.7676 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-05 20:41:14.8326 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-05 20:41:14.9271 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 84.6703ms 
2025-02-05 20:41:15.0026 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-05 20:41:15.0673 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 64.6917ms 
2025-02-05 20:41:22.3672 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-05 20:41:22.3863 Info Failed to validate the token. Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14120: JWT is not well formed, there is only one dot (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-02-05 20:41:22.4013 Info Bearer was not authenticated. Failure message: IDX14120: JWT is not well formed, there is only one dot (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'. 
2025-02-05 20:41:22.4025 Warn Failed to determine the https port for redirect. 
2025-02-05 20:41:22.4035 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:41:22.4138 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-05 20:41:22.4842 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-05 20:41:22.8289 Info Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:41:22.9062 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-05 20:41:22.9127 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:41:22.9171 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-05 20:41:22.9182 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:41:22.9192 Info Generating JWT Token 
2025-02-05 20:41:22.9192 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:41:22.9284 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-05 20:41:22.9352 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 519.5203ms 
2025-02-05 20:41:22.9352 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:41:22.9373 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 570.2137ms 
2025-02-05 20:41:39.4673 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:41:39.5568 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-05 20:41:39.5573 Info Bearer was not authenticated. Failure message: Unauthorized 
2025-02-05 20:41:39.5592 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-05 20:41:39.5608 Info AuthenticationScheme: Bearer was challenged. 
2025-02-05 20:41:39.5608 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 401 0 - 93.7287ms 
2025-02-05 20:43:32.9993 Info Application Starting Up... 
2025-02-05 20:43:33.1892 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-05 20:43:33.2302 Info Now listening on: http://localhost:5063 
2025-02-05 20:43:33.2311 Info Application started. Press Ctrl+C to shut down. 
2025-02-05 20:43:33.2311 Info Hosting environment: Development 
2025-02-05 20:43:33.2311 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-05 20:43:33.2938 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-05 20:43:33.3863 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 82.8648ms 
2025-02-05 20:43:33.4547 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-05 20:43:33.5015 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 46.7982ms 
2025-02-05 20:43:42.1685 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-05 20:43:42.6158 Info Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-05 20:43:42.6455 Info Bearer was not authenticated. Failure message: Unauthorized 
2025-02-05 20:43:42.6465 Warn Failed to determine the https port for redirect. 
2025-02-05 20:43:42.6471 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:43:42.6520 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-05 20:43:42.6628 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-05 20:43:42.6698 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:43:42.7194 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-05 20:43:42.7257 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-05 20:43:42.7297 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-05 20:43:42.7308 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-05 20:43:42.7308 Info Generating JWT Token 
2025-02-05 20:43:42.7375 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-05 20:43:42.7442 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 90.3158ms 
2025-02-05 20:43:42.7442 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-05 20:43:42.7462 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 577.7206ms 
2025-02-05 20:43:57.1252 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-05 20:43:57.1980 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-05 20:43:57.2017 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-05 20:43:57.2037 Info Route matched with {action = "GetUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-05 20:43:57.2053 Info Retrieving user inromation with userId:c6e51d40-8cca-4dc2-8e3c-34c373d99d49 
2025-02-05 20:43:57.2057 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Application.Dtos.UserDto.UserInfoDto'. 
2025-02-05 20:43:57.2077 Info Executed action MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API) in 3.822ms 
2025-02-05 20:43:57.2077 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-05 20:43:57.2081 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 200 - application/json;+charset=utf-8 82.8487ms 
2025-02-06 20:02:13.9992 Info Application Starting Up... 
2025-02-06 20:02:14.1999 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:02:14.2403 Info Now listening on: http://localhost:5063 
2025-02-06 20:02:14.2410 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:02:14.2410 Info Hosting environment: Development 
2025-02-06 20:02:14.2410 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:02:14.3719 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:02:14.5073 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 123.7525ms 
2025-02-06 20:02:14.5778 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:02:14.6436 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 65.7119ms 
2025-02-06 20:03:02.1662 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 120 
2025-02-06 20:03:02.1756 Warn Failed to determine the https port for redirect. 
2025-02-06 20:03:02.1776 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:03:02.1946 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:03:02.2712 Info Registering User 
2025-02-06 20:03:02.6113 Error Failed executing DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:03:02.6200 Error An exception occurred while iterating over the results of a query for context type 'MomentOfUs.Infrastructure.RepositoryContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-06 20:03:14.6851 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 12486.277ms 
2025-02-06 20:03:14.6859 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:03:14.7040 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with same email exist
   at MomentOfUs.Application.Service.AuthService.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 99
   at MomentOfUs.API.Controllers.UserController.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-06 20:03:14.7199 Warn BadRequestException: User with same email exist 
2025-02-06 20:03:14.7488 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 400 - application/json 12582.7798ms 
2025-02-06 20:03:39.1216 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 94 
2025-02-06 20:03:39.1244 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 20:03:39.1301 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:03:39.1406 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-06 20:03:39.1700 Error Failed executing DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 20:03:39.1706 Error An exception occurred while iterating over the results of a query for context type 'MomentOfUs.Infrastructure.RepositoryContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-06 20:21:11.7125 Info Application Starting Up... 
2025-02-06 20:21:11.8971 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:21:11.9403 Info Now listening on: http://localhost:5063 
2025-02-06 20:21:11.9413 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:21:11.9413 Info Hosting environment: Development 
2025-02-06 20:21:11.9413 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:21:12.0509 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:21:12.1594 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 101.0374ms 
2025-02-06 20:21:12.2311 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:21:12.2759 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 44.7893ms 
2025-02-06 20:21:40.9953 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 119 
2025-02-06 20:21:41.0040 Warn Failed to determine the https port for redirect. 
2025-02-06 20:21:41.0065 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:21:41.0220 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:21:41.1010 Info Registering User 
2025-02-06 20:21:41.4482 Info Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:22:31.8726 Info Application Starting Up... 
2025-02-06 20:22:32.0502 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:22:32.0883 Info Now listening on: http://localhost:5063 
2025-02-06 20:22:32.0890 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:22:32.0890 Info Hosting environment: Development 
2025-02-06 20:22:32.0890 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:22:32.1486 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:22:32.2110 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 54.7250ms 
2025-02-06 20:22:32.2802 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:22:32.3174 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 37.2378ms 
2025-02-06 20:22:35.7376 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 94 
2025-02-06 20:22:35.7470 Warn Failed to determine the https port for redirect. 
2025-02-06 20:22:35.7490 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 20:22:35.7687 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:22:35.8491 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-06 20:22:36.2183 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 20:22:45.9616 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 10188.3202ms 
2025-02-06 20:22:45.9624 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 20:22:45.9717 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Inavlid Login Attempt
   at MomentOfUs.Application.Service.AuthService.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 70
   at MomentOfUs.API.Controllers.UserController.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-06 20:22:46.0067 Warn BadRequestException: Inavlid Login Attempt 
2025-02-06 20:22:46.0369 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 400 - application/json 10299.3797ms 
2025-02-06 20:22:51.3066 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-06 20:22:51.3081 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 20:22:51.3081 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:22:51.3110 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-06 20:22:51.3489 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 20:29:26.5307 Info Application Starting Up... 
2025-02-06 20:29:26.6081 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:29:26.6339 Info Now listening on: http://localhost:5063 
2025-02-06 20:29:26.6346 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:29:26.6346 Info Hosting environment: Development 
2025-02-06 20:29:26.6346 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:29:49.2840 Info Application Starting Up... 
2025-02-06 20:29:49.4694 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:29:49.5123 Info Now listening on: http://localhost:5063 
2025-02-06 20:29:49.5131 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:29:49.5131 Info Hosting environment: Development 
2025-02-06 20:29:49.5131 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:29:49.6148 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:29:49.7097 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 86.3533ms 
2025-02-06 20:29:49.7816 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:29:49.8428 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 61.1850ms 
2025-02-06 20:29:56.7659 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-06 20:29:56.7733 Warn Failed to determine the https port for redirect. 
2025-02-06 20:29:56.7760 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 20:29:56.7949 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:29:56.8708 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-06 20:29:57.3862 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 20:30:00.7442 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 3943.7592ms 
2025-02-06 20:30:00.7442 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 20:30:00.7549 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Inavlid Login Attempt
   at MomentOfUs.Application.Service.AuthService.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 70
   at MomentOfUs.API.Controllers.UserController.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-06 20:30:00.7702 Warn BadRequestException: Inavlid Login Attempt 
2025-02-06 20:30:00.8013 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 400 - application/json 4035.3725ms 
2025-02-06 20:30:06.0985 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 119 
2025-02-06 20:30:06.1018 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:30:06.1064 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:30:06.1170 Info Registering User 
2025-02-06 20:30:06.1507 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:32:09.7989 Info Application Starting Up... 
2025-02-06 20:32:09.9727 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:32:10.0137 Info Now listening on: http://localhost:5063 
2025-02-06 20:32:10.0147 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:32:10.0149 Info Hosting environment: Development 
2025-02-06 20:32:10.0149 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:32:10.1051 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:32:10.2066 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 92.6967ms 
2025-02-06 20:32:10.2758 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:32:10.3186 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 42.7930ms 
2025-02-06 20:32:36.5474 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 110 
2025-02-06 20:32:36.5551 Warn Failed to determine the https port for redirect. 
2025-02-06 20:32:36.5573 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:32:36.5736 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:32:36.6516 Info Registering User 
2025-02-06 20:32:37.0240 Info Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:32:41.4578 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 4878.8684ms 
2025-02-06 20:32:41.4593 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:32:41.4689 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with same email exist
   at MomentOfUs.Application.Service.AuthService.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 99
   at MomentOfUs.API.Controllers.UserController.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-06 20:32:41.4845 Warn BadRequestException: User with same email exist 
2025-02-06 20:32:41.5136 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 400 - application/json 4966.2481ms 
2025-02-06 20:36:44.4233 Info Application Starting Up... 
2025-02-06 20:36:44.5760 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:36:44.6154 Info Now listening on: http://localhost:5063 
2025-02-06 20:36:44.6154 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:36:44.6164 Info Hosting environment: Development 
2025-02-06 20:36:44.6164 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:36:44.6835 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:36:44.7753 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 81.5742ms 
2025-02-06 20:36:44.8411 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:36:44.8840 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 42.7995ms 
2025-02-06 20:36:48.9921 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 110 
2025-02-06 20:36:48.9987 Warn Failed to determine the https port for redirect. 
2025-02-06 20:36:49.0016 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:36:49.0194 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:36:49.0974 Info Registering User 
2025-02-06 20:36:49.4354 Info Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:36:49.4405 Info Generating JWT Token 
2025-02-06 20:36:49.4522 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 20:36:49.4592 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 437.75ms 
2025-02-06 20:36:49.4592 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:36:49.4614 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 469.3272ms 
2025-02-06 20:37:06.8301 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 110 
2025-02-06 20:37:06.8341 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:37:06.8346 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:37:06.8673 Info Registering User 
2025-02-06 20:37:06.9067 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:37:06.9067 Info Generating JWT Token 
2025-02-06 20:37:06.9076 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 20:37:06.9076 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 73.1762ms 
2025-02-06 20:37:06.9076 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:37:06.9076 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 78.0410ms 
2025-02-06 20:37:09.5255 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 110 
2025-02-06 20:37:09.5259 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:37:09.5259 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:37:09.5414 Info Registering User 
2025-02-06 20:37:09.5504 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:37:09.5507 Info Generating JWT Token 
2025-02-06 20:37:09.5507 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 20:37:09.5507 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 25.1222ms 
2025-02-06 20:37:09.5507 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:37:09.5507 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 25.9267ms 
2025-02-06 20:38:17.0683 Info Application Starting Up... 
2025-02-06 20:38:17.2196 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:38:17.2576 Info Now listening on: http://localhost:5063 
2025-02-06 20:38:17.2584 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:38:17.2584 Info Hosting environment: Development 
2025-02-06 20:38:17.2584 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:38:17.3281 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:38:17.4266 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 88.7537ms 
2025-02-06 20:38:17.4952 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:38:17.5393 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 44.0387ms 
2025-02-06 20:38:20.4219 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 110 
2025-02-06 20:38:20.4303 Warn Failed to determine the https port for redirect. 
2025-02-06 20:38:20.4329 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:38:20.4512 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:38:20.5287 Info Registering User 
2025-02-06 20:38:20.8686 Info Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:38:20.8737 Info Generating JWT Token 
2025-02-06 20:38:20.8853 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 20:38:20.8925 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 439.2197ms 
2025-02-06 20:38:20.8925 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:38:20.8947 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 472.8440ms 
2025-02-06 20:38:25.9857 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 110 
2025-02-06 20:38:25.9885 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:38:25.9889 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:38:25.9921 Info Registering User 
2025-02-06 20:38:26.0279 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:38:26.0283 Info Generating JWT Token 
2025-02-06 20:38:26.0283 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 20:38:26.0291 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 40.0746ms 
2025-02-06 20:38:26.0291 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:38:26.0291 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 43.6527ms 
2025-02-06 20:38:28.0690 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 110 
2025-02-06 20:38:28.0690 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:38:28.0690 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:38:28.0811 Info Registering User 
2025-02-06 20:38:28.0893 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:38:28.0893 Info Generating JWT Token 
2025-02-06 20:38:28.0893 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 20:38:28.0900 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 20.3201ms 
2025-02-06 20:38:28.0900 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:38:28.0900 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 21.2262ms 
2025-02-06 20:38:28.5639 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 110 
2025-02-06 20:38:28.5642 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:38:28.5642 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:38:28.5651 Info Registering User 
2025-02-06 20:38:28.5666 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:38:28.5666 Info Generating JWT Token 
2025-02-06 20:38:28.5671 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 20:38:28.5671 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 3.0378ms 
2025-02-06 20:38:28.5671 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:38:28.5680 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 4.1153ms 
2025-02-06 20:38:28.9740 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 110 
2025-02-06 20:38:28.9751 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:38:28.9751 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:38:28.9759 Info Registering User 
2025-02-06 20:38:28.9770 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:38:28.9770 Info Generating JWT Token 
2025-02-06 20:38:28.9770 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 20:38:28.9780 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 2.5935ms 
2025-02-06 20:38:28.9780 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:38:28.9780 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 4.1647ms 
2025-02-06 20:39:54.0352 Info Application Starting Up... 
2025-02-06 20:39:54.2365 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:39:54.2803 Info Now listening on: http://localhost:5063 
2025-02-06 20:39:54.2813 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:39:54.2814 Info Hosting environment: Development 
2025-02-06 20:39:54.2814 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:39:54.3653 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:39:54.4619 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 88.2241ms 
2025-02-06 20:39:54.5312 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:39:54.5744 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 43.1093ms 
2025-02-06 20:39:56.9005 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 110 
2025-02-06 20:39:56.9076 Warn Failed to determine the https port for redirect. 
2025-02-06 20:39:56.9104 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:39:56.9282 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:39:57.0049 Info Registering User 
2025-02-06 20:39:57.3420 Info Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:39:57.3471 Info Generating JWT Token 
2025-02-06 20:39:57.3589 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 20:39:57.3657 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 435.4751ms 
2025-02-06 20:39:57.3657 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:39:57.3678 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 467.3092ms 
2025-02-06 20:39:59.1118 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 110 
2025-02-06 20:39:59.1136 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:39:59.1136 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:39:59.1166 Info Registering User 
2025-02-06 20:39:59.1553 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:39:59.1557 Info Generating JWT Token 
2025-02-06 20:39:59.1557 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 20:39:59.1567 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 42.3216ms 
2025-02-06 20:39:59.1567 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:39:59.1567 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 45.1017ms 
2025-02-06 20:40:26.0872 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 84 
2025-02-06 20:40:26.0894 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 20:40:26.0952 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:40:26.1140 Info Logging in user:sameen@gmail.com 
2025-02-06 20:40:26.1271 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 20:40:33.0703 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 6974.9185ms 
2025-02-06 20:40:33.0709 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 20:40:33.0810 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Inavlid Login Attempt
   at MomentOfUs.Application.Service.AuthService.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 70
   at MomentOfUs.API.Controllers.UserController.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-06 20:40:33.0979 Warn BadRequestException: Inavlid Login Attempt 
2025-02-06 20:40:33.1257 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 400 - application/json 7038.5880ms 
2025-02-06 20:46:32.7931 Info Application Starting Up... 
2025-02-06 20:46:33.0278 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:46:33.0740 Info Now listening on: http://localhost:5063 
2025-02-06 20:46:33.0740 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:46:33.0750 Info Hosting environment: Development 
2025-02-06 20:46:33.0750 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:46:33.1509 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:46:33.2585 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 97.0037ms 
2025-02-06 20:46:33.3264 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:46:33.3722 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 45.8022ms 
2025-02-06 20:46:58.7928 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 120 
2025-02-06 20:46:58.8021 Warn Failed to determine the https port for redirect. 
2025-02-06 20:46:58.8043 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:46:58.8206 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:46:58.8934 Info Registering User 
2025-02-06 20:46:59.2680 Info Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 20:46:59.2758 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:46:59.3297 Info Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 26), @p4='?' (DbType = Boolean), @p5='?' (Size = 8), @p6='?' (Size = 5), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 26), @p10='?' (Size = 26), @p11='?' (Size = 84), @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (Size = 32), @p16='?' (DbType = Boolean), @p17='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "ProfileImageUrl", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17); 
2025-02-06 20:46:59.3350 Info Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2 
2025-02-06 20:46:59.3367 Info Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2 
2025-02-06 20:47:31.2965 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 32471.4237ms 
2025-02-06 20:47:31.2976 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:47:31.3075 Error An unhandled exception occurred System.InvalidOperationException: Role ADMIN does not exist.
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.AddToRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRoleAsync(TUser user, String role)
   at MomentOfUs.Application.Service.AuthService.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 114
   at MomentOfUs.API.Controllers.UserController.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-06 20:47:31.3229 Warn Internal Server Error System.InvalidOperationException: Role ADMIN does not exist.
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.AddToRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRoleAsync(TUser user, String role)
   at MomentOfUs.Application.Service.AuthService.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 114
   at MomentOfUs.API.Controllers.UserController.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-06 20:47:31.3541 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 500 - application/json 32561.4077ms 
2025-02-06 20:51:30.8215 Info Application Starting Up... 
2025-02-06 20:51:30.9919 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:51:31.0331 Info Now listening on: http://localhost:5063 
2025-02-06 20:51:31.0339 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:51:31.0339 Info Hosting environment: Development 
2025-02-06 20:51:31.0339 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:51:31.1024 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:51:31.1972 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 85.5474ms 
2025-02-06 20:51:31.2679 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:51:31.3122 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 44.2496ms 
2025-02-06 20:51:39.8178 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 120 
2025-02-06 20:51:39.8268 Warn Failed to determine the https port for redirect. 
2025-02-06 20:51:39.8291 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:51:39.8473 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:51:39.9227 Info Registering User 
2025-02-06 20:51:40.2977 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 20:51:40.3283 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:53:42.1768 Info Application Starting Up... 
2025-02-06 20:53:42.3454 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:53:42.3866 Info Now listening on: http://localhost:5063 
2025-02-06 20:53:42.3874 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:53:42.3874 Info Hosting environment: Development 
2025-02-06 20:53:42.3874 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:53:42.4573 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:53:42.5308 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 64.1934ms 
2025-02-06 20:53:42.5976 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:53:42.6409 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 43.2722ms 
2025-02-06 20:53:46.0526 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 120 
2025-02-06 20:53:46.0608 Warn Failed to determine the https port for redirect. 
2025-02-06 20:53:46.0635 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:53:46.0812 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:53:46.1560 Info Registering User 
2025-02-06 20:53:46.4930 Info Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 20:53:46.5209 Warn Attempted to register a user with an existing email: abdullahtariq096@gmail.com 
2025-02-06 20:54:17.6201 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 31535.1926ms 
2025-02-06 20:54:17.6224 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 20:54:17.6300 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with the same email exists.
   at MomentOfUs.Application.Service.AuthService.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 104
   at MomentOfUs.API.Controllers.UserController.Register(UserRegisterDto userRegisterDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-06 20:54:17.6461 Warn BadRequestException: User with the same email exists. 
2025-02-06 20:54:17.6761 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 400 - application/json 31623.6203ms 
2025-02-06 20:59:14.5588 Info Application Starting Up... 
2025-02-06 20:59:14.7489 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 20:59:14.7915 Info Now listening on: http://localhost:5063 
2025-02-06 20:59:14.7924 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 20:59:14.7924 Info Hosting environment: Development 
2025-02-06 20:59:14.7926 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 20:59:14.8775 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 20:59:14.9778 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 87.6895ms 
2025-02-06 20:59:15.0441 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 20:59:15.0917 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 47.5780ms 
2025-02-06 20:59:38.7710 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 93 
2025-02-06 20:59:38.7778 Warn Failed to determine the https port for redirect. 
2025-02-06 20:59:38.7799 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 20:59:38.7950 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 20:59:38.8740 Info Logging in user:abdullahtariq09@gmail.com 
2025-02-06 20:59:39.2198 Info Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 25)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 20:59:43.6490 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 4849.2294ms 
2025-02-06 20:59:43.6501 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 20:59:43.6591 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Inavlid Login Attempt
   at MomentOfUs.Application.Service.AuthService.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 70
   at MomentOfUs.API.Controllers.UserController.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-06 20:59:43.6793 Warn BadRequestException: Inavlid Login Attempt 
2025-02-06 20:59:43.7091 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 400 - application/json 4938.2222ms 
2025-02-06 21:00:06.5805 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 94 
2025-02-06 21:00:06.5835 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 21:00:06.5839 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 21:00:06.6142 Info Logging in user:abdullahtariq09@gmail.com 
2025-02-06 21:00:06.6546 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 25)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 21:00:41.2040 Info Application Starting Up... 
2025-02-06 21:00:41.3835 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 21:00:41.4219 Info Now listening on: http://localhost:5063 
2025-02-06 21:00:41.4227 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 21:00:41.4227 Info Hosting environment: Development 
2025-02-06 21:00:41.4227 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 21:00:41.4889 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 21:00:41.5512 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 53.1998ms 
2025-02-06 21:00:41.6184 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 21:00:41.6560 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 37.5514ms 
2025-02-06 21:01:07.6695 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 111 
2025-02-06 21:01:07.6783 Warn Failed to determine the https port for redirect. 
2025-02-06 21:01:07.6806 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 21:01:07.6968 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 21:01:07.7698 Info Registering User 
2025-02-06 21:01:08.1044 Info Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 21:01:08.1500 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 21:01:08.1518 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 21:01:08.2049 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 16), @p4='?' (DbType = Boolean), @p5='?' (Size = 6), @p6='?' (Size = 8), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 16), @p10='?' (Size = 16), @p11='?' (Size = 84), @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (Size = 32), @p16='?' (DbType = Boolean), @p17='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "ProfileImageUrl", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17); 
2025-02-06 21:01:08.2104 Info Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2 
2025-02-06 21:01:08.2104 Info Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2 
2025-02-06 21:03:24.7055 Info Application Starting Up... 
2025-02-06 21:03:24.8914 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 21:03:24.9316 Info Now listening on: http://localhost:5063 
2025-02-06 21:03:24.9323 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 21:03:24.9323 Info Hosting environment: Development 
2025-02-06 21:03:24.9323 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 21:03:25.0072 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 21:03:25.0910 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 72.9737ms 
2025-02-06 21:03:25.1584 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 21:03:25.2204 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 61.9247ms 
2025-02-06 21:03:27.3937 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 111 
2025-02-06 21:03:27.4026 Warn Failed to determine the https port for redirect. 
2025-02-06 21:03:27.4049 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 21:03:27.4224 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 21:03:27.5013 Info Registering User 
2025-02-06 21:03:27.8407 Info Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 21:05:00.5983 Info Application Starting Up... 
2025-02-06 21:05:00.7399 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 21:05:00.7781 Info Now listening on: http://localhost:5063 
2025-02-06 21:05:00.7789 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 21:05:00.7789 Info Hosting environment: Development 
2025-02-06 21:05:00.7789 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 21:05:00.8439 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 21:05:00.9140 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 60.0553ms 
2025-02-06 21:05:00.9802 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 21:05:01.0175 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 37.3434ms 
2025-02-06 21:05:18.3451 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 85 
2025-02-06 21:05:18.3532 Warn Failed to determine the https port for redirect. 
2025-02-06 21:05:18.3554 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 21:05:18.3723 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 21:05:18.4531 Info Logging in user:sameen@gmail.com 
2025-02-06 21:05:18.7944 Info Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 21:05:18.8753 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-06 21:05:18.8823 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-06 21:05:18.8867 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-06 21:05:18.8879 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 21:05:18.8888 Info Generating JWT Token 
2025-02-06 21:05:18.9009 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 21:05:18.9082 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 533.7211ms 
2025-02-06 21:05:18.9082 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-06 21:05:18.9105 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 565.3175ms 
2025-02-06 21:14:34.7007 Info Application Starting Up... 
2025-02-06 21:15:04.0746 Info Application Starting Up... 
2025-02-06 21:15:39.3530 Info Application Starting Up... 
2025-02-06 21:15:39.5380 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-06 21:15:39.5810 Info Now listening on: http://localhost:5063 
2025-02-06 21:15:39.5810 Info Application started. Press Ctrl+C to shut down. 
2025-02-06 21:15:39.5821 Info Hosting environment: Development 
2025-02-06 21:15:39.5821 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-06 21:15:39.6682 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-06 21:15:39.7690 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 90.8089ms 
2025-02-06 21:15:39.8381 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-06 21:15:39.8824 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 44.3177ms 
2025-02-06 21:15:57.4629 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 120 
2025-02-06 21:15:57.4725 Warn Failed to determine the https port for redirect. 
2025-02-06 21:15:57.4749 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 21:15:57.4919 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-06 21:15:57.5692 Info Registering User 
2025-02-06 21:15:57.9102 Info Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 21:15:57.9556 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-06 21:15:57.9573 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-06 21:15:58.0104 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 26), @p4='?' (DbType = Boolean), @p5='?' (Size = 8), @p6='?' (Size = 5), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 26), @p10='?' (Size = 26), @p11='?' (Size = 84), @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (Size = 32), @p16='?' (DbType = Boolean), @p17='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "ProfileImageUrl", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17); 
2025-02-06 21:15:58.0132 Info Generating JWT Token 
2025-02-06 21:15:58.0250 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-06 21:15:58.0317 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 537.8435ms 
2025-02-06 21:15:58.0317 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-06 21:15:58.0337 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 570.9700ms 
2025-02-08 14:01:14.2154 Info Application Starting Up... 
2025-02-08 14:01:14.4338 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-08 14:01:14.4759 Info Now listening on: http://localhost:5063 
2025-02-08 14:01:14.4771 Info Application started. Press Ctrl+C to shut down. 
2025-02-08 14:01:14.4771 Info Hosting environment: Development 
2025-02-08 14:01:14.4771 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-08 14:01:14.5842 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-08 14:01:14.6855 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 79.5602ms 
2025-02-08 14:01:14.7476 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-08 14:01:14.8188 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 71.2202ms 
2025-02-08 14:01:48.1760 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 94 
2025-02-08 14:01:48.1843 Warn Failed to determine the https port for redirect. 
2025-02-08 14:01:48.1859 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-08 14:01:48.2005 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-08 14:01:48.2816 Info Logging in user:abdullahtariq09@gmail.com 
2025-02-08 14:01:48.6316 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 25)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-08 14:02:00.3916 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 12187.6031ms 
2025-02-08 14:02:00.3931 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-08 14:02:00.4181 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Inavlid Login Attempt
   at MomentOfUs.Application.Service.AuthService.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 70
   at MomentOfUs.API.Controllers.UserController.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-08 14:02:00.4366 Warn BadRequestException: Inavlid Login Attempt 
2025-02-08 14:02:00.4646 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 400 - application/json 12288.7386ms 
2025-02-08 14:02:05.0869 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-08 14:02:05.0885 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-08 14:02:05.0885 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-08 14:02:05.0914 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-08 14:02:05.1865 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-08 14:02:05.2735 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-08 14:02:05.2803 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-08 14:02:05.2847 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-08 14:02:05.2847 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-08 14:02:05.2859 Info Generating JWT Token 
2025-02-08 14:02:05.2980 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-08 14:02:05.3030 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 214.0532ms 
2025-02-08 14:02:05.3030 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-08 14:02:05.3030 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 216.3420ms 
2025-02-08 14:02:33.5574 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-08 14:02:33.6026 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-08 14:02:33.6052 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-08 14:02:33.6065 Info Route matched with {action = "GetUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-08 14:02:33.6077 Info Retrieving user inromation with userId:a52a5349-3c2d-48fd-8e93-a65f75c09ca6 
2025-02-08 14:02:33.6077 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Application.Dtos.UserDto.UserInfoDto'. 
2025-02-08 14:02:33.6095 Info Executed action MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API) in 2.9241ms 
2025-02-08 14:02:33.6095 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-08 14:02:33.6095 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 200 - application/json;+charset=utf-8 52.2990ms 
2025-02-21 19:12:35.3662 Info Application Starting Up... 
2025-02-21 19:12:35.5828 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-21 19:12:35.6256 Info Now listening on: http://localhost:5063 
2025-02-21 19:12:35.6256 Info Application started. Press Ctrl+C to shut down. 
2025-02-21 19:12:35.6265 Info Hosting environment: Development 
2025-02-21 19:12:35.6265 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-21 19:12:35.7229 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-21 19:12:35.8021 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 75.0716ms 
2025-02-21 19:12:35.8311 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/swagger-ui-standalone-preset.js - - - 
2025-02-21 19:12:35.8054 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/swagger-ui-bundle.js - - - 
2025-02-21 19:12:35.9257 Info Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A' 
2025-02-21 19:12:35.9257 Info Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A' 
2025-02-21 19:12:35.9265 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 120.9578ms 
2025-02-21 19:12:35.9265 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 120.9231ms 
2025-02-21 19:12:36.0219 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-21 19:12:36.0688 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 46.8887ms 
2025-02-21 19:13:15.3699 Info Application Starting Up... 
2025-02-21 19:13:15.5507 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-21 19:13:15.5911 Info Now listening on: http://localhost:5063 
2025-02-21 19:13:15.5919 Info Application started. Press Ctrl+C to shut down. 
2025-02-21 19:13:15.5919 Info Hosting environment: Development 
2025-02-21 19:13:15.5919 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-21 19:13:15.6609 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-21 19:13:15.7282 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 62.4572ms 
2025-02-21 19:13:15.8277 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-21 19:13:15.8746 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 46.8505ms 
2025-02-21 19:13:57.7031 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-21 19:13:57.7154 Warn Failed to determine the https port for redirect. 
2025-02-21 19:13:57.7173 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-21 19:13:57.7312 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-21 19:13:57.8094 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-21 19:13:58.3136 Info Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-21 19:13:58.3935 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-21 19:13:58.4003 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-21 19:13:58.4048 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-21 19:13:58.4060 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-21 19:13:58.4069 Info Generating JWT Token 
2025-02-21 19:13:58.4191 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-21 19:13:58.4261 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 692.9322ms 
2025-02-21 19:13:58.4261 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-21 19:13:58.4282 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 725.1290ms 
2025-02-21 19:14:09.4957 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-21 19:14:09.5035 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-21 19:14:09.5081 Info AuthenticationScheme: Bearer was challenged. 
2025-02-21 19:14:09.5081 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 401 0 - 12.8659ms 
2025-02-21 19:14:25.7079 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-21 19:14:25.8047 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 19:14:25.8057 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalContoller.GetAllJournals (MomentOfUs.API)' 
2025-02-21 19:14:25.8072 Info Route matched with {action = "GetAllJournals", controller = "JournalContoller"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalContoller (MomentOfUs.API). 
2025-02-21 19:14:25.8094 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 19:14:25.8143 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 19:14:25.8322 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-21 19:14:25.8402 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-21 19:14:31.2178 Info Executed action MomentOfUs.API.Controllers.JournalContoller.GetAllJournals (MomentOfUs.API) in 5410.46ms 
2025-02-21 19:14:31.2190 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalContoller.GetAllJournals (MomentOfUs.API)' 
2025-02-21 19:14:31.2288 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No journals exist for the user.
   at MomentOfUs.Application.Service.JournalService.GetUserJournalsAsync(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 58
   at MomentOfUs.API.Controllers.JournalContoller.GetAllJournals() in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalContoller.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-21 19:14:31.2475 Warn NotFoundException: No journals exist for the user. 
2025-02-21 19:14:31.2760 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 404 - application/json 5568.1376ms 
2025-02-21 19:14:57.0049 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals - application/json 44 
2025-02-21 19:14:57.0219 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 19:14:57.0236 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalContoller.CreateJournal (MomentOfUs.API)' 
2025-02-21 19:14:57.0261 Info Route matched with {action = "CreateJournal", controller = "JournalContoller"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateJournal(MomentOfUs.Application.Dtos.JournalDto.JournalCreateDto) on controller MomentOfUs.API.Controllers.JournalContoller (MomentOfUs.API). 
2025-02-21 19:14:57.0330 Info Creating journal with Title: MyJournal for user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 
2025-02-21 19:14:57.0330 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 19:14:57.0330 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 19:14:57.0996 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?', @p4='?' (Size = 9), @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Journals" ("Id", "CreatedAt", "OwnerID", "PhotoUrl", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); 
2025-02-21 19:14:57.1069 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-21 19:14:57.1124 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 19:14:57.1151 Info Journal with id: 658dc0f8-5b36-449a-9c08-c5a9c9d8292a created successfully 
2025-02-21 19:14:57.1151 Info Executing CreatedAtActionResult, writing value of type 'System.Guid'. 
2025-02-21 19:14:57.1183 Info Executed action MomentOfUs.API.Controllers.JournalContoller.CreateJournal (MomentOfUs.API) in 92.0912ms 
2025-02-21 19:14:57.1183 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalContoller.CreateJournal (MomentOfUs.API)' 
2025-02-21 19:14:57.1183 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals - 201 - application/json;+charset=utf-8 113.5017ms 
2025-02-21 19:15:16.2692 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/658dc0f8-5b36-449a-9c08-c5a9c9d8292a - - - 
2025-02-21 19:15:16.2810 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 19:15:16.2820 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalContoller.GetJournalById (MomentOfUs.API)' 
2025-02-21 19:15:16.2863 Info Route matched with {action = "GetJournalById", controller = "JournalContoller"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJournalById(System.Guid) on controller MomentOfUs.API.Controllers.JournalContoller (MomentOfUs.API). 
2025-02-21 19:15:16.2913 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 19:15:16.2913 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 19:15:16.2926 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 19:15:16.3065 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-21 19:15:16.3097 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
FROM "Journals" AS "j"
WHERE "j"."Id" = @__journalId_0
LIMIT 2 
2025-02-21 19:15:16.3097 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Domain.Models.Journal'. 
2025-02-21 19:15:16.3229 Info Executed action MomentOfUs.API.Controllers.JournalContoller.GetJournalById (MomentOfUs.API) in 36.4916ms 
2025-02-21 19:15:16.3229 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalContoller.GetJournalById (MomentOfUs.API)' 
2025-02-21 19:15:16.3229 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/658dc0f8-5b36-449a-9c08-c5a9c9d8292a - 200 - application/json;+charset=utf-8 53.8827ms 
2025-02-21 19:15:44.4425 Info Request starting HTTP/1.1 PUT http://localhost:5063/api/Journals/658dc0f8-5b36-449a-9c08-c5a9c9d8292a - application/json 58 
2025-02-21 19:15:44.4455 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 19:15:44.4465 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalContoller.UpdateJournal (MomentOfUs.API)' 
2025-02-21 19:15:44.4512 Info Route matched with {action = "UpdateJournal", controller = "JournalContoller"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateJournal(System.Guid, MomentOfUs.Application.Dtos.JournalDto.JournalUpdateDto) on controller MomentOfUs.API.Controllers.JournalContoller (MomentOfUs.API). 
2025-02-21 19:15:44.4584 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 19:15:44.4584 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 19:15:44.4632 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-21 19:15:44.4745 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 19:15:44.4784 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-21 19:15:44.4818 Info Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (Size = 36), @p2='?' (Size = 12), @p3='?' (Size = 11), @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Journals" SET "CreatedAt" = @p0, "OwnerID" = @p1, "PhotoUrl" = @p2, "Title" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5
RETURNING 1; 
2025-02-21 19:15:44.4859 Info Executing StatusCodeResult, setting HTTP status code 204 
2025-02-21 19:15:44.4859 Info Executed action MomentOfUs.API.Controllers.JournalContoller.UpdateJournal (MomentOfUs.API) in 34.494ms 
2025-02-21 19:15:44.4859 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalContoller.UpdateJournal (MomentOfUs.API)' 
2025-02-21 19:15:44.4859 Info Request finished HTTP/1.1 PUT http://localhost:5063/api/Journals/658dc0f8-5b36-449a-9c08-c5a9c9d8292a - 204 - - 43.6838ms 
2025-02-21 19:15:51.2698 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/658dc0f8-5b36-449a-9c08-c5a9c9d8292a - - - 
2025-02-21 19:15:51.2717 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 19:15:51.2723 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalContoller.GetJournalById (MomentOfUs.API)' 
2025-02-21 19:15:51.2723 Info Route matched with {action = "GetJournalById", controller = "JournalContoller"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJournalById(System.Guid) on controller MomentOfUs.API.Controllers.JournalContoller (MomentOfUs.API). 
2025-02-21 19:15:51.2723 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 19:15:51.2734 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 19:15:51.2743 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 19:15:51.2743 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-21 19:15:51.2758 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
FROM "Journals" AS "j"
WHERE "j"."Id" = @__journalId_0
LIMIT 2 
2025-02-21 19:15:51.2764 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Domain.Models.Journal'. 
2025-02-21 19:15:51.2764 Info Executed action MomentOfUs.API.Controllers.JournalContoller.GetJournalById (MomentOfUs.API) in 4.1233ms 
2025-02-21 19:15:51.2764 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalContoller.GetJournalById (MomentOfUs.API)' 
2025-02-21 19:15:51.2764 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/658dc0f8-5b36-449a-9c08-c5a9c9d8292a - 200 - application/json;+charset=utf-8 7.3310ms 
2025-02-21 19:16:01.2813 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/Journals/658dc0f8-5b36-449a-9c08-c5a9c9d8292a - - - 
2025-02-21 19:16:01.2834 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 19:16:01.2844 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalContoller.DeleteJournal (MomentOfUs.API)' 
2025-02-21 19:16:01.2883 Info Route matched with {action = "DeleteJournal", controller = "JournalContoller"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteJournal(System.Guid) on controller MomentOfUs.API.Controllers.JournalContoller (MomentOfUs.API). 
2025-02-21 19:16:01.2910 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 19:16:01.2916 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 19:16:01.2927 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 19:16:01.3098 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-21 19:16:01.3098 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
FROM "Journals" AS "j"
WHERE "j"."Id" = @__journalId_0
LIMIT 2 
2025-02-21 19:16:01.3149 Info Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
DELETE FROM "Journals"
WHERE "Id" = @p0
RETURNING 1; 
2025-02-21 19:16:01.3183 Info Executing StatusCodeResult, setting HTTP status code 204 
2025-02-21 19:16:01.3183 Info Executed action MomentOfUs.API.Controllers.JournalContoller.DeleteJournal (MomentOfUs.API) in 29.8621ms 
2025-02-21 19:16:01.3183 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalContoller.DeleteJournal (MomentOfUs.API)' 
2025-02-21 19:16:01.3183 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/Journals/658dc0f8-5b36-449a-9c08-c5a9c9d8292a - 204 - - 37.2054ms 
2025-02-21 19:16:08.0340 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/658dc0f8-5b36-449a-9c08-c5a9c9d8292a - - - 
2025-02-21 19:16:08.0356 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 19:16:08.0356 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalContoller.GetJournalById (MomentOfUs.API)' 
2025-02-21 19:16:08.0356 Info Route matched with {action = "GetJournalById", controller = "JournalContoller"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJournalById(System.Guid) on controller MomentOfUs.API.Controllers.JournalContoller (MomentOfUs.API). 
2025-02-21 19:16:08.0366 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 19:16:08.0366 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 19:16:08.0380 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 19:16:23.7488 Info Executed action MomentOfUs.API.Controllers.JournalContoller.GetJournalById (MomentOfUs.API) in 15712.4267ms 
2025-02-21 19:16:23.7505 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalContoller.GetJournalById (MomentOfUs.API)' 
2025-02-21 19:16:23.7658 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Journal with ID: 658dc0f8-5b36-449a-9c08-c5a9c9d8292a does not exist.
   at MomentOfUs.Application.Service.JournalService.CheckEntityExist(Object entity, Guid id, String entityName) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 280
   at MomentOfUs.Application.Service.JournalService.GetJournalByIdAsync(Guid journalId, String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 67
   at MomentOfUs.API.Controllers.JournalContoller.GetJournalById(Guid id) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalContoller.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-21 19:16:23.7669 Warn BadRequestException: Journal with ID: 658dc0f8-5b36-449a-9c08-c5a9c9d8292a does not exist. 
2025-02-21 19:16:23.7669 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/658dc0f8-5b36-449a-9c08-c5a9c9d8292a - 400 - application/json 15733.0489ms 
2025-02-21 20:02:08.3993 Info Application Starting Up... 
2025-02-21 20:02:08.6423 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-21 20:02:08.6820 Info Now listening on: http://localhost:5063 
2025-02-21 20:02:08.6829 Info Application started. Press Ctrl+C to shut down. 
2025-02-21 20:02:08.6829 Info Hosting environment: Development 
2025-02-21 20:02:08.6829 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-21 20:02:08.7938 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-21 20:02:08.9435 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 134.9868ms 
2025-02-21 20:02:09.0129 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-21 20:02:09.0646 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 51.6321ms 
2025-02-21 20:02:46.8195 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-21 20:02:46.8308 Warn Failed to determine the https port for redirect. 
2025-02-21 20:02:46.8325 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-21 20:02:46.8454 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-21 20:02:46.9329 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-21 20:02:47.2932 Info Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-21 20:02:47.3732 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-21 20:02:47.3797 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-21 20:02:47.3840 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-21 20:02:47.3852 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-21 20:02:47.3861 Info Generating JWT Token 
2025-02-21 20:02:47.3982 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-21 20:02:47.4054 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 558ms 
2025-02-21 20:02:47.4054 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-21 20:02:47.4075 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 588.1291ms 
2025-02-21 20:03:04.4582 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-21 20:03:04.5262 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 20:03:04.5288 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-21 20:03:04.5303 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-21 20:03:04.5323 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 20:03:04.5371 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 20:03:04.5548 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-21 20:03:04.5616 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-21 20:03:08.3604 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 3829.9173ms 
2025-02-21 20:03:08.3620 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-21 20:03:08.3711 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No journals exist for the user.
   at MomentOfUs.Application.Service.JournalService.GetUserJournalsAsync(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 58
   at MomentOfUs.API.Controllers.JournalController.GetAllJournals() in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-21 20:03:08.3890 Warn NotFoundException: No journals exist for the user. 
2025-02-21 20:03:08.4170 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 404 - application/json 3958.7820ms 
2025-02-21 20:03:28.4048 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals - application/json 53 
2025-02-21 20:03:28.4513 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 20:03:28.4521 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.CreateJournal (MomentOfUs.API)' 
2025-02-21 20:03:28.4549 Info Route matched with {action = "CreateJournal", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateJournal(MomentOfUs.Application.Dtos.JournalDto.JournalCreateDto) on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-21 20:03:28.4597 Info Creating journal with Title: Journal1 for user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 
2025-02-21 20:03:28.4598 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 20:03:28.4598 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 20:03:28.5292 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 10), @p4='?' (Size = 8), @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Journals" ("Id", "CreatedAt", "OwnerID", "PhotoUrl", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); 
2025-02-21 20:03:28.5367 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-21 20:03:28.5420 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 20:03:28.5446 Info Journal with id: 96b5c156-3fa6-4473-b41b-4a89ed1c02ec created successfully 
2025-02-21 20:03:28.5453 Info Executing CreatedAtActionResult, writing value of type 'System.Guid'. 
2025-02-21 20:03:28.5477 Info Executed action MomentOfUs.API.Controllers.JournalController.CreateJournal (MomentOfUs.API) in 92.7368ms 
2025-02-21 20:03:28.5477 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.CreateJournal (MomentOfUs.API)' 
2025-02-21 20:03:28.5478 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals - 201 - application/json;+charset=utf-8 143.0499ms 
2025-02-21 20:03:45.7023 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec - - - 
2025-02-21 20:03:45.7133 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 20:03:45.7155 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-21 20:03:45.7195 Info Route matched with {action = "GetJournalById", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJournalById(System.Guid) on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-21 20:03:45.7238 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 20:03:45.7243 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 20:03:45.7243 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 20:03:45.7388 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-21 20:03:45.7420 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
FROM "Journals" AS "j"
WHERE "j"."Id" = @__journalId_0
LIMIT 2 
2025-02-21 20:03:45.7420 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Domain.Models.Journal'. 
2025-02-21 20:03:45.7538 Info Executed action MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API) in 34.2304ms 
2025-02-21 20:03:45.7538 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-21 20:03:45.7538 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec - 200 - application/json;+charset=utf-8 51.7539ms 
2025-02-21 20:04:46.3552 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 71 
2025-02-21 20:04:46.3586 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 20:04:46.3593 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-21 20:04:46.3628 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-21 20:04:46.3703 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 20:04:46.3703 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 20:04:46.3712 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 20:04:46.3712 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-21 20:04:46.3968 Error Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 10), @p4='?' (Size = 8), @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Journals" ("Id", "CreatedAt", "OwnerID", "PhotoUrl", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); 
2025-02-21 20:04:46.4033 Error An exception occurred in the database while saving changes for context type 'MomentOfUs.Infrastructure.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Journals.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Journals.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-21 20:05:01.1692 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 14806.1516ms 
2025-02-21 20:05:01.1692 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-21 20:05:01.1855 Error An unhandled exception occurred Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Journals.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MomentOfUs.Infrastructure.Repository.RepositoryManager.SaveAsync() in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Infrastructure/Repository/RepositoryManager.cs:line 47
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 140
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-21 20:05:01.1887 Warn Internal Server Error Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Journals.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MomentOfUs.Infrastructure.Repository.RepositoryManager.SaveAsync() in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Infrastructure/Repository/RepositoryManager.cs:line 47
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 140
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-21 20:05:01.1908 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 500 - application/json 14837.8435ms 
2025-02-21 20:05:30.0896 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 71 
2025-02-21 20:05:30.0927 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 20:05:30.0937 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-21 20:05:30.0937 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-21 20:05:30.0947 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 20:05:30.0953 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 20:05:30.0963 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 20:05:30.0975 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-21 20:05:30.1011 Error Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 10), @p4='?' (Size = 8), @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Journals" ("Id", "CreatedAt", "OwnerID", "PhotoUrl", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); 
2025-02-21 20:05:30.1029 Error An exception occurred in the database while saving changes for context type 'MomentOfUs.Infrastructure.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Journals.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Journals.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-21 20:09:25.1964 Info Application Starting Up... 
2025-02-21 20:09:25.3580 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-21 20:09:25.3949 Info Now listening on: http://localhost:5063 
2025-02-21 20:09:25.3959 Info Application started. Press Ctrl+C to shut down. 
2025-02-21 20:09:25.3961 Info Hosting environment: Development 
2025-02-21 20:09:25.3961 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-21 20:09:25.4931 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-21 20:09:25.6186 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 114.9521ms 
2025-02-21 20:09:25.6907 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-21 20:09:25.7608 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 70.0668ms 
2025-02-21 20:09:28.1209 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 71 
2025-02-21 20:09:28.5761 Info Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 20:09:28.6046 Warn Failed to determine the https port for redirect. 
2025-02-21 20:09:28.6065 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-21 20:09:28.6114 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-21 20:09:28.6229 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 20:09:28.6282 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 20:09:28.6505 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-21 20:09:28.6572 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 20:09:28.6691 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-21 20:09:28.7185 Info Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 39), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "JournalEntries" ("Id", "Content", "CreatedAt", "IsSynced", "JournalId", "Mood", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2025-02-21 20:09:28.7228 Info Executing CreatedAtActionResult, writing value of type 'System.Guid'. 
2025-02-21 20:09:28.7316 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 118.2266ms 
2025-02-21 20:09:28.7316 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-21 20:09:28.7336 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 201 - application/json;+charset=utf-8 612.7740ms 
2025-02-21 20:09:51.4528 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec - - - 
2025-02-21 20:09:51.5282 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 20:09:51.5295 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-21 20:09:51.5320 Info Route matched with {action = "GetJournalById", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJournalById(System.Guid) on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-21 20:09:51.5335 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 20:09:51.5335 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 20:09:51.5344 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 20:09:51.5363 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-21 20:09:51.5403 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
FROM "Journals" AS "j"
WHERE "j"."Id" = @__journalId_0
LIMIT 2 
2025-02-21 20:09:51.5403 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Domain.Models.Journal'. 
2025-02-21 20:09:51.5546 Info Executed action MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API) in 22.5279ms 
2025-02-21 20:09:51.5546 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-21 20:09:51.5787 Error An unhandled exception occurred System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-21 20:09:51.5929 Warn Internal Server Error System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-21 20:09:51.6199 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec - 500 - application/json 167.2586ms 
2025-02-21 20:10:10.1931 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec - - - 
2025-02-21 20:10:10.2163 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 20:10:10.2175 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-21 20:10:10.2175 Info Route matched with {action = "GetJournalById", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJournalById(System.Guid) on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-21 20:10:10.2190 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 20:10:10.2194 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 20:10:10.2194 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 20:10:10.2206 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-21 20:10:10.2206 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
FROM "Journals" AS "j"
WHERE "j"."Id" = @__journalId_0
LIMIT 2 
2025-02-21 20:10:10.2206 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Domain.Models.Journal'. 
2025-02-21 20:10:10.2223 Info Executed action MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API) in 4.5924ms 
2025-02-21 20:10:10.2223 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-21 20:10:10.2334 Error An unhandled exception occurred System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-21 20:10:10.2346 Warn Internal Server Error System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-21 20:10:10.2363 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec - 500 - application/json 43.2097ms 
2025-02-21 20:10:33.8701 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 40 
2025-02-21 20:10:33.8762 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 20:10:33.8769 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-21 20:10:33.8769 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-21 20:10:33.8785 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 20:10:33.8785 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 20:10:33.8796 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 20:10:33.8796 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-21 20:10:33.8835 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 8), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "JournalEntries" ("Id", "Content", "CreatedAt", "IsSynced", "JournalId", "Mood", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2025-02-21 20:10:33.8835 Info Executing CreatedAtActionResult, writing value of type 'System.Guid'. 
2025-02-21 20:10:33.8835 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 7.0035ms 
2025-02-21 20:10:33.8835 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-21 20:10:33.8843 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 201 - application/json;+charset=utf-8 16.2234ms 
2025-02-21 20:10:37.8188 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec - - - 
2025-02-21 20:10:37.8206 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-21 20:10:37.8206 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-21 20:10:37.8214 Info Route matched with {action = "GetJournalById", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJournalById(System.Guid) on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-21 20:10:37.8214 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-21 20:10:37.8214 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-21 20:10:37.8229 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-21 20:10:37.8241 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-21 20:10:37.8246 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
FROM "Journals" AS "j"
WHERE "j"."Id" = @__journalId_0
LIMIT 2 
2025-02-21 20:10:37.8246 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Domain.Models.Journal'. 
2025-02-21 20:10:37.8271 Info Executed action MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API) in 5.6112ms 
2025-02-21 20:10:37.8271 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-21 20:10:37.8415 Error An unhandled exception occurred System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-21 20:10:37.8431 Warn Internal Server Error System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.Journal.journalEntries.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-21 20:10:37.8450 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec - 500 - application/json 26.0912ms 
2025-02-22 19:02:57.8896 Info Application Starting Up... 
2025-02-22 19:02:58.1188 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 19:02:58.1608 Info Now listening on: http://localhost:5063 
2025-02-22 19:02:58.1617 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 19:02:58.1617 Info Hosting environment: Development 
2025-02-22 19:02:58.1617 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 19:02:58.2588 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 19:02:58.3720 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 100.6174ms 
2025-02-22 19:02:58.4469 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 19:02:58.5025 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 55.6520ms 
2025-02-22 19:03:21.5341 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 94 
2025-02-22 19:03:21.5492 Warn Failed to determine the https port for redirect. 
2025-02-22 19:03:21.5509 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-22 19:03:21.5643 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 19:03:21.6645 Info Logging in user:abdullahtariq96@gmail.com 
2025-02-22 19:03:22.0628 Info Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 25)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-22 19:03:24.9172 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 3348.8168ms 
2025-02-22 19:03:24.9172 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-22 19:03:24.9261 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Inavlid Login Attempt
   at MomentOfUs.Application.Service.AuthService.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/AuthService.cs:line 70
   at MomentOfUs.API.Controllers.UserController.Login(UserLoginDto userLoginDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/UserController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-22 19:03:24.9433 Warn BadRequestException: Inavlid Login Attempt 
2025-02-22 19:03:24.9723 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 400 - application/json 3438.4655ms 
2025-02-22 19:03:34.1302 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-22 19:03:34.1323 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-22 19:03:34.1323 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 19:03:34.1358 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-22 19:03:34.2319 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-22 19:03:34.3225 Info Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-22 19:03:34.3298 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-22 19:03:34.3346 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-22 19:03:34.3349 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-22 19:03:34.3349 Info Generating JWT Token 
2025-02-22 19:03:34.3474 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-22 19:03:34.3527 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 219.7578ms 
2025-02-22 19:03:34.3527 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-22 19:03:34.3527 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 222.7822ms 
2025-02-22 19:04:10.5456 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-22 19:04:10.5815 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:04:10.5856 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 19:04:10.5872 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-22 19:04:10.5899 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 19:04:10.5963 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:04:10.6148 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 19:04:10.6217 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-22 19:04:10.6255 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.Journal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-22 19:04:10.6295 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 42.2421ms 
2025-02-22 19:04:10.6295 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 19:04:10.6295 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 200 - application/json;+charset=utf-8 85.5272ms 
2025-02-22 19:04:32.0855 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - - - 
2025-02-22 19:04:32.0910 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:04:32.0925 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-22 19:04:32.0978 Info Route matched with {action = "GetAllEntries", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEntries(System.Guid) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 19:04:32.1302 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 19:04:32.1310 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:04:32.1390 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."Content", "j"."CreatedAt", "j"."IsSynced", "j"."JournalId", "j"."Mood", "j"."UpdatedAt"
FROM "JournalEntries" AS "j"
WHERE "j"."JournalId" = @__journalId_0 
2025-02-22 19:04:32.1390 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.JournalEntry, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-22 19:04:32.1433 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API) in 45.2645ms 
2025-02-22 19:04:32.1433 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-22 19:04:32.1433 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 200 - application/json;+charset=utf-8 60.3567ms 
2025-02-22 19:05:08.5776 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries/03fb20ff-c3e8-403a-9e6f-7eb65c891c32 - - - 
2025-02-22 19:05:08.5906 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:05:08.5929 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.DeleteEntry (MomentOfUs.API)' 
2025-02-22 19:05:08.5954 Info Route matched with {action = "DeleteEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEntry(System.Guid, System.Guid) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 19:05:08.5985 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 19:05:08.5988 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:05:08.6068 Info Executed DbCommand (0ms) [Parameters=[@__entryId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."Content", "j"."CreatedAt", "j"."IsSynced", "j"."JournalId", "j"."Mood", "j"."UpdatedAt", "j0"."Id", "j0"."CreatedAt", "j0"."OwnerID", "j0"."PhotoUrl", "j0"."Title", "j0"."UpdatedAt"
FROM "JournalEntries" AS "j"
INNER JOIN "Journals" AS "j0" ON "j"."JournalId" = "j0"."Id"
WHERE "j"."Id" = @__entryId_0
LIMIT 2 
2025-02-22 19:05:08.6705 Info Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
DELETE FROM "JournalEntries"
WHERE "Id" = @p0
RETURNING 1; 
2025-02-22 19:05:08.6766 Info Executing StatusCodeResult, setting HTTP status code 204 
2025-02-22 19:05:08.6766 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.DeleteEntry (MomentOfUs.API) in 81.1501ms 
2025-02-22 19:05:08.6766 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.DeleteEntry (MomentOfUs.API)' 
2025-02-22 19:05:08.6769 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries/03fb20ff-c3e8-403a-9e6f-7eb65c891c32 - 204 - - 99.2912ms 
2025-02-22 19:05:11.9930 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - - - 
2025-02-22 19:05:11.9946 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:05:11.9953 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-22 19:05:11.9953 Info Route matched with {action = "GetAllEntries", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEntries(System.Guid) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 19:05:11.9960 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 19:05:11.9960 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:05:11.9970 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."Content", "j"."CreatedAt", "j"."IsSynced", "j"."JournalId", "j"."Mood", "j"."UpdatedAt"
FROM "JournalEntries" AS "j"
WHERE "j"."JournalId" = @__journalId_0 
2025-02-22 19:05:11.9970 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.JournalEntry, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-22 19:05:11.9979 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API) in 2.2471ms 
2025-02-22 19:05:11.9979 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-22 19:05:11.9979 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 200 - application/json;+charset=utf-8 5.2006ms 
2025-02-22 19:28:04.7746 Info Application Starting Up... 
2025-02-22 19:31:10.3967 Info Application Starting Up... 
2025-02-22 19:33:52.8633 Info Application Starting Up... 
2025-02-22 19:33:53.0553 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 19:33:53.0949 Info Now listening on: http://localhost:5063 
2025-02-22 19:33:53.0958 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 19:33:53.0960 Info Hosting environment: Development 
2025-02-22 19:33:53.0960 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 19:33:53.1700 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 19:33:53.2750 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 94.2952ms 
2025-02-22 19:33:53.3518 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 19:33:53.4224 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 70.6375ms 
2025-02-22 19:33:59.2398 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-22 19:33:59.7046 Info Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:33:59.7334 Warn Failed to determine the https port for redirect. 
2025-02-22 19:33:59.7353 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 19:33:59.7386 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-22 19:33:59.7406 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 19:33:59.7458 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:33:59.7681 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 19:33:59.7754 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-22 19:33:59.7809 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.Journal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-22 19:33:59.7878 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 47.2289ms 
2025-02-22 19:33:59.7878 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 19:33:59.7901 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 200 - application/json;+charset=utf-8 550.3030ms 
2025-02-22 19:34:33.3150 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-22 19:34:33.3168 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-22 19:34:33.3278 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 19:34:33.3515 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-22 19:34:33.3799 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-22 19:34:33.4289 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-22 19:34:33.4354 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-22 19:34:33.4401 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-22 19:34:33.4414 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-22 19:34:33.4423 Info Generating JWT Token 
2025-02-22 19:34:33.4478 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-22 19:34:33.4532 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 125.1639ms 
2025-02-22 19:34:33.4532 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-22 19:34:33.4532 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 138.6287ms 
2025-02-22 19:34:46.9675 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals - application/json 47 
2025-02-22 19:34:46.9865 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:34:46.9879 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.CreateJournal (MomentOfUs.API)' 
2025-02-22 19:34:46.9912 Info Route matched with {action = "CreateJournal", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateJournal(MomentOfUs.Application.Dtos.JournalDto.JournalCreateDto) on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-22 19:34:46.9955 Info Creating journal with Title: string for user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 
2025-02-22 19:34:46.9955 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 19:34:46.9961 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:34:47.0676 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 6), @p4='?' (Size = 6), @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Journals" ("Id", "CreatedAt", "OwnerID", "PhotoUrl", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); 
2025-02-22 19:34:47.0751 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 19:34:47.0805 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 19:34:47.0816 Info Journal with id: 45e49cb9-2d99-4c92-b352-e54f367c277f created successfully 
2025-02-22 19:34:47.0823 Info Executing CreatedAtActionResult, writing value of type 'System.Guid'. 
2025-02-22 19:34:47.0838 Info Executed action MomentOfUs.API.Controllers.JournalController.CreateJournal (MomentOfUs.API) in 92.5526ms 
2025-02-22 19:34:47.0838 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.CreateJournal (MomentOfUs.API)' 
2025-02-22 19:34:47.0840 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals - 201 - application/json;+charset=utf-8 116.4986ms 
2025-02-22 19:35:36.1417 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Register - application/json 117 
2025-02-22 19:35:36.1542 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:35:36.1542 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-22 19:35:36.1590 Info Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MomentOfUs.Application.Dtos.UserDto.UserRegisterDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 19:35:36.1640 Info Registering User 
2025-02-22 19:35:36.1707 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-22 19:35:36.2222 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-22 19:35:36.2230 Info Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 
2025-02-22 19:35:36.2271 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 24), @p4='?' (DbType = Boolean), @p5='?' (Size = 4), @p6='?' (Size = 8), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 24), @p10='?' (Size = 24), @p11='?' (Size = 84), @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (Size = 32), @p16='?' (DbType = Boolean), @p17='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "ProfileImageUrl", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17); 
2025-02-22 19:35:36.2271 Info Generating JWT Token 
2025-02-22 19:35:36.2271 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-22 19:35:36.2271 Info Executed action MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API) in 68.5955ms 
2025-02-22 19:35:36.2271 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Register (MomentOfUs.API)' 
2025-02-22 19:35:36.2271 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Register - 201 - text/plain;+charset=utf-8 86.1826ms 
2025-02-22 19:36:02.2443 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-22 19:36:02.2461 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:36:02.2483 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 19:36:02.2506 Info Route matched with {action = "GetUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 19:36:02.2530 Info Retrieving user inromation with userId:a52a5349-3c2d-48fd-8e93-a65f75c09ca6 
2025-02-22 19:36:02.2539 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Application.Dtos.UserDto.UserInfoDto'. 
2025-02-22 19:36:02.2554 Info Executed action MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API) in 4.6613ms 
2025-02-22 19:36:02.2554 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 19:36:02.2559 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 200 - application/json;+charset=utf-8 11.4191ms 
2025-02-22 19:36:08.1619 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/Users - - - 
2025-02-22 19:36:08.1635 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:36:08.1658 Info Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin) 
2025-02-22 19:36:08.1685 Info AuthenticationScheme: Bearer was forbidden. 
2025-02-22 19:36:08.1690 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/Users - 403 0 - 7.1413ms 
2025-02-22 19:38:50.2732 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-22 19:38:50.3041 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:38:50.3053 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 19:38:50.3058 Info Route matched with {action = "GetUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 19:38:50.3058 Info Retrieving user inromation with userId:a52a5349-3c2d-48fd-8e93-a65f75c09ca6 
2025-02-22 19:38:50.3058 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Application.Dtos.UserDto.UserInfoDto'. 
2025-02-22 19:38:50.3058 Info Executed action MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API) in 0.6981ms 
2025-02-22 19:38:50.3067 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 19:38:50.3067 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 200 - application/json;+charset=utf-8 34.1615ms 
2025-02-22 19:38:56.0864 Info Application Starting Up... 
2025-02-22 19:38:56.2343 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 19:38:56.2729 Info Now listening on: http://localhost:5063 
2025-02-22 19:38:56.2738 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 19:38:56.2738 Info Hosting environment: Development 
2025-02-22 19:38:56.2738 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 19:38:56.3560 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 19:38:56.4258 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 64.2392ms 
2025-02-22 19:38:56.5056 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 19:38:56.5638 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 58.2370ms 
2025-02-22 19:39:01.4589 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-22 19:39:01.9214 Info Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:39:01.9610 Warn Failed to determine the https port for redirect. 
2025-02-22 19:39:01.9638 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 19:39:01.9685 Info Route matched with {action = "GetUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 19:39:01.9705 Info Retrieving user inromation with userId:a52a5349-3c2d-48fd-8e93-a65f75c09ca6 
2025-02-22 19:39:01.9742 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Application.Dtos.UserDto.UserInfoDto'. 
2025-02-22 19:39:01.9808 Info Executed action MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API) in 9.5254ms 
2025-02-22 19:39:01.9808 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 19:39:01.9860 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 200 - application/json;+charset=utf-8 527.1698ms 
2025-02-22 19:39:39.5285 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 93 
2025-02-22 19:39:39.5313 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-22 19:39:39.5404 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 19:39:39.5603 Info Logging in user:musaabdullah23@gmail.com 
2025-02-22 19:39:39.5904 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-22 19:39:39.6466 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-22 19:39:39.6541 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-22 19:39:39.6593 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-22 19:39:39.6606 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-22 19:39:39.6611 Info Generating JWT Token 
2025-02-22 19:39:39.6666 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-22 19:39:39.6720 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 131.4781ms 
2025-02-22 19:39:39.6720 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-22 19:39:39.6720 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 143.8874ms 
2025-02-22 19:39:54.2926 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-22 19:39:54.3116 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:39:54.3131 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 19:39:54.3162 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-22 19:39:54.3200 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:39:54.3284 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:39:54.3528 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 19:39:54.3606 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-22 19:39:58.4499 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 4133.5563ms 
2025-02-22 19:39:58.4499 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 19:39:58.4606 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No journals exist for the user.
   at MomentOfUs.Application.Service.JournalService.GetUserJournalsAsync(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 58
   at MomentOfUs.API.Controllers.JournalController.GetAllJournals() in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-22 19:39:58.4803 Warn NotFoundException: No journals exist for the user. 
2025-02-22 19:39:58.5100 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 404 - application/json 4217.3555ms 
2025-02-22 19:40:33.1063 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-22 19:40:33.1720 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:40:33.1738 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 19:40:33.1738 Info Route matched with {action = "GetUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 19:40:33.1756 Info Retrieving user inromation with userId:6a9bc996-8614-49d4-8428-e59aa95bf599 
2025-02-22 19:40:33.1756 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Application.Dtos.UserDto.UserInfoDto'. 
2025-02-22 19:40:33.1756 Info Executed action MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API) in 2.192ms 
2025-02-22 19:40:33.1766 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 19:40:33.1766 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 200 - application/json;+charset=utf-8 70.4799ms 
2025-02-22 19:42:54.9331 Info Request starting HTTP/1.1 POST http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared - application/json 134 
2025-02-22 19:42:54.9370 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:42:54.9378 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 19:42:54.9431 Info Route matched with {action = "ShareJournal", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareJournal(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalCreateDto) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-22 19:42:54.9545 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 19:42:54.9545 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:42:54.9545 Info Checking if user with id: 3fa85f64-5717-4562-b3fc-2c963f66afa6 exists 
2025-02-22 19:42:54.9545 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:43:28.6737 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API) in 33730.5458ms 
2025-02-22 19:43:28.6749 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 19:43:28.6827 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID: 3fa85f64-5717-4562-b3fc-2c963f66afa6 does not exist.
   at MomentOfUs.Application.Service.JournalService.ValidateUser(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 306
   at MomentOfUs.Application.Service.JournalService.ShareJournalAsync(Guid journalId, String ownerId, String targetUserId, PermissionLevel permission) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 201
   at MomentOfUs.API.Controllers.SharedJournalController.ShareJournal(Guid journalId, SharedJournalCreateDto sharedJournalCreateDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-22 19:43:28.6838 Warn BadRequestException: User with ID: 3fa85f64-5717-4562-b3fc-2c963f66afa6 does not exist. 
2025-02-22 19:43:28.6838 Info Request finished HTTP/1.1 POST http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared - 400 - application/json 33751.0360ms 
2025-02-22 19:43:35.8214 Info Request starting HTTP/1.1 POST http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared - application/json 134 
2025-02-22 19:43:35.8247 Info Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:43:35.8271 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 19:43:35.8271 Info Route matched with {action = "ShareJournal", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareJournal(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalCreateDto) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-22 19:43:35.8296 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 19:43:35.8296 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:43:35.8296 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:43:35.8307 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:43:35.8431 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 19:43:35.8551 Info Executed DbCommand (2ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 19:43:35.8709 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 19:43:35.9319 Info Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (Size = 36), @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "SharedJournals" ("Id", "CreatedAt", "JournalId", "OwnerId", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4); 
2025-02-22 19:43:35.9361 Info Executing StatusCodeResult, setting HTTP status code 200 
2025-02-22 19:43:35.9361 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API) in 108.8051ms 
2025-02-22 19:43:35.9361 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 19:43:35.9361 Info Request finished HTTP/1.1 POST http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared - 200 0 - 114.9514ms 
2025-02-22 19:43:45.7137 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-22 19:43:45.7154 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:43:45.7154 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 19:43:45.7154 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-22 19:43:45.7154 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:43:45.7169 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:43:45.7178 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-22 19:43:50.7473 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 5031.1413ms 
2025-02-22 19:43:50.7476 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 19:43:50.7622 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No journals exist for the user.
   at MomentOfUs.Application.Service.JournalService.GetUserJournalsAsync(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 58
   at MomentOfUs.API.Controllers.JournalController.GetAllJournals() in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-22 19:43:50.7635 Warn NotFoundException: No journals exist for the user. 
2025-02-22 19:43:50.7635 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 404 - application/json 5050.1059ms 
2025-02-22 19:46:36.9659 Info Application Starting Up... 
2025-02-22 19:46:37.1441 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 19:46:37.1839 Info Now listening on: http://localhost:5063 
2025-02-22 19:46:37.1848 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 19:46:37.1848 Info Hosting environment: Development 
2025-02-22 19:46:37.1848 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 19:46:37.2672 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 19:46:37.3694 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 70.2618ms 
2025-02-22 19:46:37.4315 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 19:46:37.5195 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 87.9746ms 
2025-02-22 19:47:10.6047 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f/entries - application/json 50 
2025-02-22 19:47:11.0627 Info Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:47:11.0920 Warn Failed to determine the https port for redirect. 
2025-02-22 19:47:11.0940 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 19:47:11.0991 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 19:47:11.1109 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:47:11.1171 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:47:11.1423 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 19:47:11.1495 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 19:47:11.1619 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 19:47:21.6642 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 10559.9892ms 
2025-02-22 19:47:21.6652 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 19:47:21.6750 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries.
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 127
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-22 19:47:21.6925 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. 
2025-02-22 19:47:21.7237 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f/entries - 400 - application/json 11119.0693ms 
2025-02-22 19:47:54.3802 Info Request starting HTTP/1.1 PUT http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared - application/json 79 
2025-02-22 19:47:54.4589 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:47:54.4601 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API)' 
2025-02-22 19:47:54.4626 Info Route matched with {action = "UpdatePermission", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePermission(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalUpdated) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-22 19:47:54.4683 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 19:47:54.4683 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:47:54.4683 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:47:54.4692 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:47:54.4692 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 19:47:54.4744 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 19:48:50.8306 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API) in 56367.8595ms 
2025-02-22 19:48:50.8314 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API)' 
2025-02-22 19:48:50.8428 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Failed to update permission for user ID 6a9bc996-8614-49d4-8428-e59aa95bf599.
   at MomentOfUs.Application.Service.JournalService.UpdateUserPermissionAsync(Guid journalId, String ownerId, String targetUserId, PermissionLevel newPermission) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 275
   at MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission(Guid journalId, SharedJournalUpdated sharedJournalUpdated) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 57
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-22 19:48:50.8441 Warn BadRequestException: Failed to update permission for user ID 6a9bc996-8614-49d4-8428-e59aa95bf599. 
2025-02-22 19:48:50.8715 Info Request finished HTTP/1.1 PUT http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared - 400 - application/json 56491.8680ms 
2025-02-22 19:51:22.1311 Info Application Starting Up... 
2025-02-22 19:51:22.3661 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 19:51:22.4033 Info Now listening on: http://localhost:5063 
2025-02-22 19:51:22.4042 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 19:51:22.4042 Info Hosting environment: Development 
2025-02-22 19:51:22.4042 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 19:51:22.4800 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 19:51:22.5664 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 72.1286ms 
2025-02-22 19:51:22.6349 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 19:51:22.6968 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 61.7973ms 
2025-02-22 19:51:28.4021 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f/entries - application/json 50 
2025-02-22 19:51:28.8628 Info Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:51:28.8911 Warn Failed to determine the https port for redirect. 
2025-02-22 19:51:28.8930 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 19:51:28.8978 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 19:51:28.9093 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:51:28.9148 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:51:28.9380 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 19:51:28.9456 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 19:51:28.9581 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 19:52:58.8770 Info Application Starting Up... 
2025-02-22 19:52:59.0392 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 19:52:59.0738 Info Now listening on: http://localhost:5063 
2025-02-22 19:52:59.0738 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 19:52:59.0738 Info Hosting environment: Development 
2025-02-22 19:52:59.0738 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 19:52:59.1535 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 19:52:59.2208 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 62.3970ms 
2025-02-22 19:52:59.3034 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 19:52:59.3496 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 46.1972ms 
2025-02-22 19:53:01.8679 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f/entries - application/json 50 
2025-02-22 19:53:02.3262 Info Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:53:02.3564 Warn Failed to determine the https port for redirect. 
2025-02-22 19:53:02.3584 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 19:53:02.3634 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 19:53:02.3750 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:53:02.3811 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:53:02.4060 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 19:53:02.4128 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 19:53:02.4245 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 19:54:02.8551 Info Application Starting Up... 
2025-02-22 19:54:03.0656 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 19:54:03.1145 Info Now listening on: http://localhost:5063 
2025-02-22 19:54:03.1153 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 19:54:03.1153 Info Hosting environment: Development 
2025-02-22 19:54:03.1158 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 19:54:03.2175 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 19:54:03.3249 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 95.9241ms 
2025-02-22 19:54:03.3966 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 19:54:03.4595 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 62.8584ms 
2025-02-22 19:54:08.1416 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f/entries - application/json 50 
2025-02-22 19:54:08.6255 Info Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:54:08.6548 Warn Failed to determine the https port for redirect. 
2025-02-22 19:54:08.6567 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 19:54:08.6617 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 19:54:08.6733 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:54:08.6789 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:54:08.7041 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 19:54:08.7110 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 19:54:08.7228 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 19:56:02.5540 Info Application Starting Up... 
2025-02-22 19:56:02.7519 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 19:56:02.7912 Info Now listening on: http://localhost:5063 
2025-02-22 19:56:02.7920 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 19:56:02.7920 Info Hosting environment: Development 
2025-02-22 19:56:02.7920 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 19:56:02.8883 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 19:56:02.9754 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 78.6022ms 
2025-02-22 19:56:03.0442 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 19:56:03.0967 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 52.5394ms 
2025-02-22 19:56:20.8293 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f/entries - application/json 50 
2025-02-22 19:56:21.2877 Info Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:56:21.3169 Warn Failed to determine the https port for redirect. 
2025-02-22 19:56:21.3188 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 19:56:21.3237 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 19:56:21.3352 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:56:21.3407 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:56:21.3656 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 19:56:21.3723 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 19:56:21.3838 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 19:56:55.0198 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 33691.4001ms 
2025-02-22 19:56:55.0208 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 19:56:55.0390 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries.
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 129
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-22 19:56:55.0613 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. 
2025-02-22 19:56:55.0945 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f/entries - 400 - application/json 34264.8991ms 
2025-02-22 19:57:10.7120 Info Request starting HTTP/1.1 PUT http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared - application/json 79 
2025-02-22 19:57:10.7484 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:57:10.7499 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API)' 
2025-02-22 19:57:10.7523 Info Route matched with {action = "UpdatePermission", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePermission(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalUpdated) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-22 19:57:10.7574 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 19:57:10.7574 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:57:10.7574 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:57:10.7586 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:57:10.7602 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 19:57:10.7624 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 19:57:26.7659 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API) in 16013.4007ms 
2025-02-22 19:57:26.7659 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API)' 
2025-02-22 19:57:26.7814 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have shared access to this journal.
   at MomentOfUs.Application.Service.JournalService.UpdateUserPermissionAsync(Guid journalId, String ownerId, String targetUserId, PermissionLevel newPermission) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 279
   at MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission(Guid journalId, SharedJournalUpdated sharedJournalUpdated) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 57
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-22 19:57:26.7831 Warn BadRequestException: User ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have shared access to this journal. 
2025-02-22 19:57:26.7831 Info Request finished HTTP/1.1 PUT http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared - 400 - application/json 16072.9080ms 
2025-02-22 19:57:43.7013 Info Request starting HTTP/1.1 POST http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared - application/json 134 
2025-02-22 19:57:43.7234 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:57:43.7243 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 19:57:43.7268 Info Route matched with {action = "ShareJournal", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareJournal(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalCreateDto) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-22 19:57:43.7341 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 19:57:43.7341 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:57:43.7341 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:57:43.7341 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:57:43.7353 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 19:57:43.7358 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 19:57:43.8076 Info Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (Size = 36), @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "SharedJournals" ("Id", "CreatedAt", "JournalId", "OwnerId", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4); 
2025-02-22 19:57:43.8120 Info Executing StatusCodeResult, setting HTTP status code 200 
2025-02-22 19:57:43.8120 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API) in 85.2724ms 
2025-02-22 19:57:43.8120 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 19:57:43.8120 Info Request finished HTTP/1.1 POST http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared - 200 0 - 111.0737ms 
2025-02-22 19:57:49.0965 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f/entries - application/json 50 
2025-02-22 19:57:49.0983 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 19:57:49.0989 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 19:57:49.0989 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 19:57:49.1000 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 19:57:49.1000 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 19:57:49.1013 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 19:57:49.1025 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 20:00:23.4685 Info Application Starting Up... 
2025-02-22 20:00:23.6476 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 20:00:23.6835 Info Now listening on: http://localhost:5063 
2025-02-22 20:00:23.6835 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 20:00:23.6845 Info Hosting environment: Development 
2025-02-22 20:00:23.6845 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 20:00:23.7741 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 20:00:23.8434 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 64.3690ms 
2025-02-22 20:00:23.9237 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 20:00:23.9723 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 48.5339ms 
2025-02-22 20:00:26.2680 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-22 20:00:26.7326 Info Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:00:26.7610 Warn Failed to determine the https port for redirect. 
2025-02-22 20:00:26.7628 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 20:00:26.7662 Info Route matched with {action = "GetUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 20:00:26.7674 Info Retrieving user inromation with userId:6a9bc996-8614-49d4-8428-e59aa95bf599 
2025-02-22 20:00:26.7693 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Application.Dtos.UserDto.UserInfoDto'. 
2025-02-22 20:00:26.7738 Info Executed action MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API) in 5.8237ms 
2025-02-22 20:00:26.7738 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 20:00:26.7758 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 200 - application/json;+charset=utf-8 507.8582ms 
2025-02-22 20:00:34.0928 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-22 20:00:34.1349 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:00:34.1360 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 20:00:34.1360 Info Route matched with {action = "GetUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 20:00:34.1360 Info Retrieving user inromation with userId:a52a5349-3c2d-48fd-8e93-a65f75c09ca6 
2025-02-22 20:00:34.1366 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Application.Dtos.UserDto.UserInfoDto'. 
2025-02-22 20:00:34.1366 Info Executed action MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API) in 0.6685ms 
2025-02-22 20:00:34.1366 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-22 20:00:34.1366 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 200 - application/json;+charset=utf-8 44.4076ms 
2025-02-22 20:01:19.7936 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-22 20:01:19.8152 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:01:19.8170 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 20:01:19.8196 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-22 20:01:19.8236 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 20:01:19.8337 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:01:19.8664 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 20:01:19.8747 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-22 20:01:19.8793 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.Journal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-22 20:01:19.8829 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 63.1754ms 
2025-02-22 20:01:19.8829 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 20:01:19.8829 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 200 - application/json;+charset=utf-8 91.0300ms 
2025-02-22 20:01:51.6603 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - - - 
2025-02-22 20:01:51.6659 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:01:51.6665 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-22 20:01:51.6711 Info Route matched with {action = "GetAllEntries", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEntries(System.Guid) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 20:01:51.6745 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 20:01:51.6745 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:01:51.6779 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."Content", "j"."CreatedAt", "j"."IsSynced", "j"."JournalId", "j"."Mood", "j"."UpdatedAt"
FROM "JournalEntries" AS "j"
WHERE "j"."JournalId" = @__journalId_0 
2025-02-22 20:01:51.6779 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.JournalEntry, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-22 20:01:51.6805 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API) in 9.3528ms 
2025-02-22 20:01:51.6805 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-22 20:01:51.6805 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 200 - application/json;+charset=utf-8 20.4230ms 
2025-02-22 20:02:14.2097 Info Request starting HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - application/json 134 
2025-02-22 20:02:14.2150 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:02:14.2158 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 20:02:14.2200 Info Route matched with {action = "ShareJournal", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareJournal(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalCreateDto) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-22 20:02:14.2396 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 20:02:14.2396 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:02:14.2396 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 20:02:14.2396 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:02:14.2480 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 20:02:14.2563 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 20:02:14.2704 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 20:02:14.3313 Info Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (Size = 36), @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "SharedJournals" ("Id", "CreatedAt", "JournalId", "OwnerId", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4); 
2025-02-22 20:02:14.3361 Info Executing StatusCodeResult, setting HTTP status code 200 
2025-02-22 20:02:14.3361 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API) in 116.0331ms 
2025-02-22 20:02:14.3361 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 20:02:14.3361 Info Request finished HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - 200 0 - 126.7158ms 
2025-02-22 20:02:45.3784 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 50 
2025-02-22 20:02:45.3825 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:02:45.3831 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 20:02:45.3864 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 20:02:45.3931 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 20:02:45.3931 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:02:45.3940 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 20:02:45.3940 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 20:02:52.0822 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 6695.5332ms 
2025-02-22 20:02:52.0846 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 20:02:52.0951 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries.
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 129
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-22 20:02:52.1142 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. 
2025-02-22 20:02:52.1431 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 400 - application/json 6764.7768ms 
2025-02-22 20:03:22.4906 Info Application Starting Up... 
2025-02-22 20:03:22.6990 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 20:03:22.7425 Info Now listening on: http://localhost:5063 
2025-02-22 20:03:22.7434 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 20:03:22.7434 Info Hosting environment: Development 
2025-02-22 20:03:22.7434 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 20:03:22.7905 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 20:03:22.8555 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 56.4890ms 
2025-02-22 20:03:22.9243 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 20:03:22.9932 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 68.9461ms 
2025-02-22 20:03:26.2492 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 50 
2025-02-22 20:03:26.6964 Info Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:03:26.7252 Warn Failed to determine the https port for redirect. 
2025-02-22 20:03:26.7271 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 20:03:26.7321 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 20:03:26.7437 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 20:03:26.7490 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:03:26.7723 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 20:03:26.7790 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 20:03:26.7911 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "UserSharedJournals" AS "u"
INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
INNER JOIN "SharedJournals" AS "s" ON "u"."SharedJournalId" = "s"."Id"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 20:03:31.6881 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 4951ms 
2025-02-22 20:03:31.6889 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 20:03:31.6978 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. AS he has permissionFalse
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 129
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-22 20:03:31.7132 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. AS he has permissionFalse 
2025-02-22 20:03:31.7426 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 400 - application/json 5493.3727ms 
2025-02-22 20:07:51.5355 Info Application Starting Up... 
2025-02-22 20:07:51.7561 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 20:07:51.7944 Info Now listening on: http://localhost:5063 
2025-02-22 20:07:51.7953 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 20:07:51.7953 Info Hosting environment: Development 
2025-02-22 20:07:51.7953 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 20:07:51.9103 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 20:07:51.9984 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 80.2290ms 
2025-02-22 20:07:52.0731 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 20:07:52.1292 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 56.0466ms 
2025-02-22 20:07:55.2302 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 50 
2025-02-22 20:07:55.6790 Info Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:07:55.7076 Warn Failed to determine the https port for redirect. 
2025-02-22 20:07:55.7095 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 20:07:55.7145 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 20:07:55.7260 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 20:07:55.7314 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:07:55.7536 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 20:07:55.7603 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 20:07:55.7681 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 20:16:56.7326 Info Application Starting Up... 
2025-02-22 20:16:56.9078 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 20:16:56.9426 Info Now listening on: http://localhost:5063 
2025-02-22 20:16:56.9433 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 20:16:56.9433 Info Hosting environment: Development 
2025-02-22 20:16:56.9433 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 20:16:57.0509 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 20:16:57.1381 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 74.2442ms 
2025-02-22 20:16:57.2118 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 20:16:57.2652 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 53.2976ms 
2025-02-22 20:17:06.5308 Info Request starting HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - application/json 134 
2025-02-22 20:17:06.9912 Info Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:17:07.0208 Warn Failed to determine the https port for redirect. 
2025-02-22 20:17:07.0228 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 20:17:07.0279 Info Route matched with {action = "ShareJournal", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareJournal(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalCreateDto) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-22 20:17:07.0411 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 20:17:07.0508 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:17:07.0518 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 20:17:07.0558 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:17:07.0909 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 20:17:07.0975 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 20:17:07.1045 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 20:17:07.1639 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (Size = 36), @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "SharedJournals" ("Id", "CreatedAt", "JournalId", "OwnerId", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4); 
2025-02-22 20:17:07.1676 Error Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Guid), @p3='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
INSERT INTO "UserSharedJournals" ("Id", "PermissionLevel", "SharedJournalId", "UserId")
VALUES (@p0, @p1, @p2, @p3); 
2025-02-22 20:17:07.1761 Error An exception occurred in the database while saving changes for context type 'MomentOfUs.Infrastructure.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-22 20:21:30.6767 Info Application Starting Up... 
2025-02-22 20:21:30.8592 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 20:21:30.8965 Info Now listening on: http://localhost:5063 
2025-02-22 20:21:30.8973 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 20:21:30.8973 Info Hosting environment: Development 
2025-02-22 20:21:30.8973 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 20:21:30.9830 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 20:21:31.0790 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 81.6817ms 
2025-02-22 20:21:31.1537 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 20:21:31.2212 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 67.4232ms 
2025-02-22 20:21:38.2357 Info Request starting HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - application/json 134 
2025-02-22 20:21:38.7015 Info Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:21:38.7319 Warn Failed to determine the https port for redirect. 
2025-02-22 20:21:38.7340 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 20:21:38.7393 Info Route matched with {action = "ShareJournal", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareJournal(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalCreateDto) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-22 20:21:38.7532 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 20:21:38.7693 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:21:38.7704 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 20:21:38.7751 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:21:38.8047 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 20:21:38.8128 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 20:21:38.8208 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 20:21:38.8808 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (Size = 36), @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "SharedJournals" ("Id", "CreatedAt", "JournalId", "OwnerId", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4); 
2025-02-22 20:21:38.8836 Error Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Guid), @p3='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
INSERT INTO "UserSharedJournals" ("Id", "PermissionLevel", "SharedJournalId", "UserId")
VALUES (@p0, @p1, @p2, @p3); 
2025-02-22 20:21:38.8923 Error An exception occurred in the database while saving changes for context type 'MomentOfUs.Infrastructure.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-22 20:27:36.8532 Info Application Starting Up... 
2025-02-22 20:27:37.0633 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 20:27:37.1014 Info Now listening on: http://localhost:5063 
2025-02-22 20:27:37.1014 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 20:27:37.1024 Info Hosting environment: Development 
2025-02-22 20:27:37.1024 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 20:27:37.1925 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 20:27:37.3059 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 103.5967ms 
2025-02-22 20:27:37.3853 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 20:27:37.4577 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 72.3335ms 
2025-02-22 20:27:46.7367 Info Request starting HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - application/json 134 
2025-02-22 20:27:47.1971 Info Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:27:47.2261 Warn Failed to determine the https port for redirect. 
2025-02-22 20:27:47.2280 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 20:27:47.2330 Info Route matched with {action = "ShareJournal", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareJournal(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalCreateDto) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-22 20:27:47.2462 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 20:27:47.2520 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:27:47.2520 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 20:27:47.2535 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:27:47.2776 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 20:27:47.2847 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 20:27:47.2944 Info Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s0"."Id", "s0"."CreatedAt", "s0"."JournalId", "s0"."OwnerId", "s0"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM (
    SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
    FROM "SharedJournals" AS "s"
    WHERE "s"."JournalId" = @__id_0
    LIMIT 2
) AS "s0"
LEFT JOIN "UserSharedJournals" AS "u" ON "s0"."Id" = "u"."SharedJournalId"
ORDER BY "s0"."Id" 
2025-02-22 20:27:47.2979 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 20:27:47.3466 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Guid), @p3='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
INSERT INTO "UserSharedJournals" ("Id", "PermissionLevel", "SharedJournalId", "UserId")
VALUES (@p0, @p1, @p2, @p3); 
2025-02-22 20:27:47.3505 Info Executing StatusCodeResult, setting HTTP status code 200 
2025-02-22 20:27:47.3524 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API) in 117.5186ms 
2025-02-22 20:27:47.3524 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-22 20:27:47.3543 Info Request finished HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - 200 0 - 617.6437ms 
2025-02-22 20:28:06.5843 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - - - 
2025-02-22 20:28:06.6529 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:28:06.6536 Info Executing endpoint '405 HTTP Method Not Supported' 
2025-02-22 20:28:06.6536 Info Executed endpoint '405 HTTP Method Not Supported' 
2025-02-22 20:28:06.6536 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - 405 0 - 69.7958ms 
2025-02-22 20:28:24.4633 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 50 
2025-02-22 20:28:24.4838 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:28:24.4848 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 20:28:24.4884 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 20:28:24.4952 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 20:28:24.4959 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:28:24.4959 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 20:28:24.4971 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-22 20:28:49.5667 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 25077.9106ms 
2025-02-22 20:28:49.5677 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-22 20:28:49.5759 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. AS he has permissionFalse
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 129
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-22 20:28:49.5934 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. AS he has permissionFalse 
2025-02-22 20:28:49.6511 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 400 - application/json 25161.7520ms 
2025-02-22 20:29:53.1690 Info Application Starting Up... 
2025-02-22 20:29:53.3560 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-22 20:29:53.3928 Info Now listening on: http://localhost:5063 
2025-02-22 20:29:53.3928 Info Application started. Press Ctrl+C to shut down. 
2025-02-22 20:29:53.3928 Info Hosting environment: Development 
2025-02-22 20:29:53.3937 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-22 20:29:53.5028 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 20:29:53.5929 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 85.0036ms 
2025-02-22 20:29:53.6695 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 20:29:53.7194 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 49.8918ms 
2025-02-22 20:29:57.1132 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - - - 
2025-02-22 20:29:57.6008 Info Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:29:57.6301 Warn Failed to determine the https port for redirect. 
2025-02-22 20:29:57.6321 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-22 20:29:57.6370 Info Route matched with {action = "GetAllEntries", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEntries(System.Guid) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-22 20:29:57.6411 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 20:29:57.6463 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:29:57.6525 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."Content", "j"."CreatedAt", "j"."IsSynced", "j"."JournalId", "j"."Mood", "j"."UpdatedAt"
FROM "JournalEntries" AS "j"
WHERE "j"."JournalId" = @__journalId_0 
2025-02-22 20:29:57.6560 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.JournalEntry, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-22 20:29:57.6646 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API) in 25.6757ms 
2025-02-22 20:29:57.6646 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-22 20:29:57.6668 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 200 - application/json;+charset=utf-8 553.7715ms 
2025-02-22 20:30:13.9473 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals - application/json 47 
2025-02-22 20:30:13.9890 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:30:13.9899 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.CreateJournal (MomentOfUs.API)' 
2025-02-22 20:30:13.9923 Info Route matched with {action = "CreateJournal", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateJournal(MomentOfUs.Application.Dtos.JournalDto.JournalCreateDto) on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-22 20:30:14.0028 Info Creating journal with Title: string for user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 
2025-02-22 20:30:14.0028 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 20:30:14.0035 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:30:14.0686 Info Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 6), @p4='?' (Size = 6), @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Journals" ("Id", "CreatedAt", "OwnerID", "PhotoUrl", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); 
2025-02-22 20:30:14.0923 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 20:30:14.0987 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-22 20:30:14.1009 Info Journal with id: d0406016-7306-4ab9-bb23-20112016cd6e created successfully 
2025-02-22 20:30:14.1015 Info Executing CreatedAtActionResult, writing value of type 'System.Guid'. 
2025-02-22 20:30:14.1081 Info Executed action MomentOfUs.API.Controllers.JournalController.CreateJournal (MomentOfUs.API) in 115.7696ms 
2025-02-22 20:30:14.1082 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.CreateJournal (MomentOfUs.API)' 
2025-02-22 20:30:14.1082 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals - 201 - application/json;+charset=utf-8 161.1376ms 
2025-02-22 20:30:24.2399 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-22 20:30:24.2611 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:30:24.2626 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 20:30:24.2646 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-22 20:30:24.2678 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-22 20:30:24.2678 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:30:24.2733 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-22 20:30:24.2821 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-22 20:30:24.2837 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.Journal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-22 20:30:24.2852 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 20.5246ms 
2025-02-22 20:30:24.2852 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 20:30:24.2852 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 200 - application/json;+charset=utf-8 45.4173ms 
2025-02-22 20:30:36.5709 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 20:30:36.5730 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 2.0919ms 
2025-02-22 20:30:36.6753 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 20:30:36.6805 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 5.1850ms 
2025-02-22 20:30:40.4394 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-22 20:30:40.4407 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 1.0527ms 
2025-02-22 20:30:40.5484 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-22 20:30:40.5523 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 3.8785ms 
2025-02-22 20:30:58.2322 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-22 20:30:58.2351 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-22 20:30:58.2434 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-22 20:30:58.2544 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-22 20:30:58.2661 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-22 20:30:58.3244 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-22 20:30:58.3312 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-22 20:30:58.3496 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-22 20:30:58.3505 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-22 20:30:58.3516 Info Generating JWT Token 
2025-02-22 20:30:58.3573 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-22 20:30:58.3573 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 114.0804ms 
2025-02-22 20:30:58.3573 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-22 20:30:58.3579 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 125.6917ms 
2025-02-22 20:31:28.4140 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-22 20:31:28.4200 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-22 20:31:28.4214 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 20:31:28.4214 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-22 20:31:28.4222 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-22 20:31:28.4222 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-22 20:31:28.4236 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-22 20:31:28.4260 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.Journal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-22 20:31:28.4266 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 4.6722ms 
2025-02-22 20:31:28.4266 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-22 20:31:28.4272 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 200 - application/json;+charset=utf-8 13.1925ms 
2025-02-23 20:51:08.7483 Info Application Starting Up... 
2025-02-23 20:51:08.8278 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 20:51:08.8474 Info Now listening on: http://localhost:5063 
2025-02-23 20:51:08.8482 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 20:51:08.8482 Info Hosting environment: Development 
2025-02-23 20:51:08.8486 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 20:51:08.9346 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 20:51:09.0148 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 70.9709ms 
2025-02-23 20:51:09.0855 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 20:51:09.1349 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 49.3477ms 
2025-02-23 20:52:30.0462 Info Application Starting Up... 
2025-02-23 20:52:30.1216 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 20:52:30.1437 Info Now listening on: http://localhost:5063 
2025-02-23 20:52:30.1437 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 20:52:30.1446 Info Hosting environment: Development 
2025-02-23 20:52:30.1446 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 20:52:30.1833 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 20:52:30.2329 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 40.3260ms 
2025-02-23 20:52:30.3036 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 20:52:30.3510 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 47.3302ms 
2025-02-23 20:52:52.7842 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-23 20:52:52.7925 Warn Failed to determine the https port for redirect. 
2025-02-23 20:52:52.7949 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-23 20:52:52.8099 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-23 20:52:52.8758 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-23 20:52:53.1830 Info Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-23 20:52:53.2569 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-23 20:52:53.2629 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-23 20:52:53.2657 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-23 20:52:53.2667 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-23 20:52:53.2667 Info Generating JWT Token 
2025-02-23 20:52:53.2766 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-23 20:52:53.2825 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 470.7207ms 
2025-02-23 20:52:53.2825 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-23 20:52:53.2843 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 500.1737ms 
2025-02-23 20:53:23.7948 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 93 
2025-02-23 20:53:23.7981 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-23 20:53:23.7986 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-23 20:53:23.8032 Info Logging in user:musaabdullah23@gmail.com 
2025-02-23 20:53:23.8352 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-23 20:53:23.8802 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-23 20:53:23.8809 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-23 20:53:23.8817 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-23 20:53:23.8817 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-23 20:53:23.8817 Info Generating JWT Token 
2025-02-23 20:53:23.8825 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-23 20:53:23.8825 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 84.1332ms 
2025-02-23 20:53:23.8825 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-23 20:53:23.8825 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 88.1983ms 
2025-02-23 20:53:46.9309 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-23 20:53:46.9790 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 20:53:46.9810 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 20:53:46.9827 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-23 20:53:46.9848 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 20:53:46.9896 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 20:53:47.0070 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 20:53:47.0136 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-23 20:53:47.0170 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.Journal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 20:53:47.0205 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 37.693ms 
2025-02-23 20:53:47.0205 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 20:53:47.0206 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 200 - application/json;+charset=utf-8 89.7540ms 
2025-02-23 20:53:53.7348 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-23 20:53:53.7375 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 20:53:53.7396 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 20:53:53.7396 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-23 20:53:53.7407 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 20:53:53.7417 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 20:53:53.7430 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-23 20:53:53.7439 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.Journal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 20:53:53.7448 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 4.9779ms 
2025-02-23 20:53:53.7448 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 20:53:53.7448 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 200 - application/json;+charset=utf-8 10.2754ms 
2025-02-23 20:54:44.4363 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 20:54:44.4454 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 20:54:44.4485 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 20:54:44.4520 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess(System.Guid) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 20:54:44.4604 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 
2025-02-23 20:54:44.4621 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 10.0561ms 
2025-02-23 20:54:44.4621 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 20:54:44.4625 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No shared users found for this journal.
   at MomentOfUs.Application.Service.JournalService.GetSharedUsersAsync(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 274
   at MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 89
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 20:54:44.4740 Warn NotFoundException: No shared users found for this journal. 
2025-02-23 20:54:44.5004 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 404 - application/json 64.0930ms 
2025-02-23 20:55:37.6233 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - - - 
2025-02-23 20:55:37.6253 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 20:55:37.6259 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-23 20:55:37.6297 Info Route matched with {action = "GetUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-23 20:55:37.6325 Info Retrieving user inromation with userId:6a9bc996-8614-49d4-8428-e59aa95bf599 
2025-02-23 20:55:37.6325 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Application.Dtos.UserDto.UserInfoDto'. 
2025-02-23 20:55:37.6349 Info Executed action MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API) in 5.0275ms 
2025-02-23 20:55:37.6349 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.GetUserInfo (MomentOfUs.API)' 
2025-02-23 20:55:37.6349 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Users/UserInfo - 200 - application/json;+charset=utf-8 11.9141ms 
2025-02-23 20:55:49.2037 Info Request starting HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - application/json 134 
2025-02-23 20:55:49.2063 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 20:55:49.2067 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-23 20:55:49.2100 Info Route matched with {action = "ShareJournal", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareJournal(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalCreateDto) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 20:55:49.2209 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 20:55:49.2215 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 20:55:49.2215 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 20:55:49.2215 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 20:55:49.2327 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 20:55:49.2424 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 20:55:49.2520 Info Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s0"."Id", "s0"."CreatedAt", "s0"."JournalId", "s0"."OwnerId", "s0"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM (
    SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
    FROM "SharedJournals" AS "s"
    WHERE "s"."JournalId" = @__id_0
    LIMIT 2
) AS "s0"
LEFT JOIN "UserSharedJournals" AS "u" ON "s0"."Id" = "u"."SharedJournalId"
ORDER BY "s0"."Id" 
2025-02-23 20:55:49.2564 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 20:55:49.2588 Info Executing StatusCodeResult, setting HTTP status code 200 
2025-02-23 20:55:49.2588 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API) in 48.7147ms 
2025-02-23 20:55:49.2588 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-23 20:55:49.2588 Info Request finished HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - 200 0 - 55.2862ms 
2025-02-23 20:56:06.6291 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 20:56:06.6306 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 20:56:06.6306 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 20:56:06.6315 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess(System.Guid) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 20:56:06.6325 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 
2025-02-23 20:56:06.6325 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 1.3927ms 
2025-02-23 20:56:06.6325 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 20:56:06.6325 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No shared users found for this journal.
   at MomentOfUs.Application.Service.JournalService.GetSharedUsersAsync(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 274
   at MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 89
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 20:56:06.6346 Warn NotFoundException: No shared users found for this journal. 
2025-02-23 20:56:06.6346 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 404 - application/json 5.7976ms 
2025-02-23 20:56:36.7959 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 37 
2025-02-23 20:56:36.7973 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 20:56:36.7979 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 20:56:36.8029 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-23 20:56:36.8121 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 20:56:36.8129 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 20:56:36.8139 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 20:56:36.8147 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 20:56:36.8160 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 13.0096ms 
2025-02-23 20:56:36.8160 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 20:56:36.8160 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. AS he has permissionFalse
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 129
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 20:56:36.8170 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. AS he has permissionFalse 
2025-02-23 20:56:36.8170 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 400 - application/json 21.3585ms 
2025-02-23 21:00:45.7437 Info Application Starting Up... 
2025-02-23 21:00:45.8087 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 21:00:45.8265 Info Now listening on: http://localhost:5063 
2025-02-23 21:00:45.8265 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 21:00:45.8265 Info Hosting environment: Development 
2025-02-23 21:00:45.8274 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 21:00:45.9024 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 21:00:45.9719 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 58.3824ms 
2025-02-23 21:00:46.0429 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 21:00:46.0890 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 46.0420ms 
2025-02-23 21:00:50.9743 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 37 
2025-02-23 21:00:51.3656 Info Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 21:00:51.3929 Warn Failed to determine the https port for redirect. 
2025-02-23 21:00:51.3942 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 21:00:51.3983 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-23 21:00:51.4076 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 21:00:51.4125 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 21:00:51.4352 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 21:00:51.4415 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 21:00:51.4475 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 21:00:51.4502 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 50.0647ms 
2025-02-23 21:00:51.4504 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 21:00:51.4504 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries.
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 129
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 21:00:51.4580 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. 
2025-02-23 21:00:51.4775 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 400 - application/json 503.2564ms 
2025-02-23 21:08:04.2551 Info Application Starting Up... 
2025-02-23 21:08:04.3213 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 21:08:04.3420 Info Now listening on: http://localhost:5063 
2025-02-23 21:08:04.3426 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 21:08:04.3426 Info Hosting environment: Development 
2025-02-23 21:08:04.3426 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 21:08:04.4413 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 21:08:04.5183 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 75.1706ms 
2025-02-23 21:08:04.5940 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 21:08:04.6530 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 58.8573ms 
2025-02-23 21:08:10.0504 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 37 
2025-02-23 21:08:10.4295 Info Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 21:08:10.4574 Warn Failed to determine the https port for redirect. 
2025-02-23 21:08:10.4587 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 21:08:10.4628 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-23 21:08:10.4723 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 21:08:10.4773 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 21:08:10.4980 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 21:08:10.5043 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 21:08:10.5106 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 21:08:10.5131 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 48.4847ms 
2025-02-23 21:08:10.5133 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 21:08:10.5133 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. AS he has permissionFalse
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 129
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 21:08:10.5186 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. AS he has permissionFalse 
2025-02-23 21:08:10.5377 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 400 - application/json 487.2802ms 
2025-02-23 21:35:57.5875 Info Application Starting Up... 
2025-02-23 21:35:57.6728 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 21:35:57.6945 Info Now listening on: http://localhost:5063 
2025-02-23 21:35:57.6956 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 21:35:57.6956 Info Hosting environment: Development 
2025-02-23 21:35:57.6956 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 21:35:57.7807 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 21:35:57.9054 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 109.8294ms 
2025-02-23 21:35:57.9804 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 21:35:58.0297 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 49.3439ms 
2025-02-23 21:36:10.5750 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 37 
2025-02-23 21:36:10.9972 Info Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 21:36:11.0261 Warn Failed to determine the https port for redirect. 
2025-02-23 21:36:11.0275 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 21:36:11.0317 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-23 21:36:11.0416 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 21:36:11.0467 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 21:36:11.0692 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 21:36:11.0762 Info Executed DbCommand (1ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 21:36:11.0888 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s0"."Id", "s0"."CreatedAt", "s0"."JournalId", "s0"."OwnerId", "s0"."UpdatedAt", "s1"."Id", "s1"."PermissionLevel", "s1"."SharedJournalId", "s1"."UserId", "s1"."Id0", "s1"."AccessFailedCount", "s1"."ConcurrencyStamp", "s1"."Email", "s1"."EmailConfirmed", "s1"."FirstName", "s1"."LastName", "s1"."LockoutEnabled", "s1"."LockoutEnd", "s1"."NormalizedEmail", "s1"."NormalizedUserName", "s1"."PasswordHash", "s1"."PhoneNumber", "s1"."PhoneNumberConfirmed", "s1"."ProfileImageUrl", "s1"."SecurityStamp", "s1"."TwoFactorEnabled", "s1"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
    FROM "SharedJournals" AS "s"
    WHERE "s"."JournalId" = @__journalId_0
    LIMIT 1
) AS "s0"
LEFT JOIN (
    SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "UserSharedJournals" AS "u"
    INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
) AS "s1" ON "s0"."Id" = "s1"."SharedJournalId"
ORDER BY "s0"."Id", "s1"."Id" 
2025-02-23 21:36:11.1373 Info Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "JournalEntries" ("Id", "Content", "CreatedAt", "IsSynced", "JournalId", "Mood", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2025-02-23 21:36:11.1521 Info Executing CreatedAtActionResult, writing value of type 'System.Guid'. 
2025-02-23 21:36:11.1662 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 132.5671ms 
2025-02-23 21:36:11.1662 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 21:36:11.1681 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 201 - application/json;+charset=utf-8 593.1537ms 
2025-02-23 21:36:31.0073 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - - - 
2025-02-23 21:36:31.0494 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 21:36:31.0508 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-23 21:36:31.0529 Info Route matched with {action = "GetAllEntries", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEntries(System.Guid) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-23 21:36:31.0546 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 21:36:31.0546 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 21:36:31.0610 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."Content", "j"."CreatedAt", "j"."IsSynced", "j"."JournalId", "j"."Mood", "j"."UpdatedAt"
FROM "JournalEntries" AS "j"
WHERE "j"."JournalId" = @__journalId_0 
2025-02-23 21:36:31.0615 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.JournalEntry, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 21:36:31.0657 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API) in 12.7008ms 
2025-02-23 21:36:31.0657 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-23 21:36:31.0657 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 200 - application/json;+charset=utf-8 58.6958ms 
2025-02-23 21:36:49.3059 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 21:36:49.3290 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 21:36:49.3305 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 21:36:49.3325 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess(System.Guid) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 21:36:49.3392 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 
2025-02-23 21:36:49.3403 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 7.7442ms 
2025-02-23 21:36:49.3403 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 21:36:49.3403 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No shared users found for this journal.
   at MomentOfUs.Application.Service.JournalService.GetSharedUsersAsync(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 274
   at MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 89
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 21:36:49.3513 Warn NotFoundException: No shared users found for this journal. 
2025-02-23 21:36:49.3780 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 404 - application/json 72.0474ms 
2025-02-23 21:37:12.8925 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 21:37:12.8948 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 21:37:12.8955 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 21:37:12.8955 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess(System.Guid) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 21:37:12.8967 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 
2025-02-23 21:37:12.8967 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 1.3472ms 
2025-02-23 21:37:12.8974 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 21:37:12.8974 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No shared users found for this journal.
   at MomentOfUs.Application.Service.JournalService.GetSharedUsersAsync(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 274
   at MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 89
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 21:37:12.8986 Warn NotFoundException: No shared users found for this journal. 
2025-02-23 21:37:12.8986 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 404 - application/json 6.5160ms 
2025-02-23 21:37:58.3221 Info Application Starting Up... 
2025-02-23 21:37:58.3929 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 21:37:58.4145 Info Now listening on: http://localhost:5063 
2025-02-23 21:37:58.4156 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 21:37:58.4156 Info Hosting environment: Development 
2025-02-23 21:37:58.4156 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 21:37:58.4914 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 21:37:58.5642 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 58.9506ms 
2025-02-23 21:37:58.6292 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 21:37:58.6756 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 46.2073ms 
2025-02-23 21:38:03.7804 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 21:38:04.1644 Info Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 21:38:04.1912 Warn Failed to determine the https port for redirect. 
2025-02-23 21:38:04.1926 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 21:38:04.1964 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess(System.Guid) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 21:38:04.2051 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 
2025-02-23 21:38:04.2075 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 9.279ms 
2025-02-23 21:38:04.2075 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 21:38:04.2075 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No shared users found for this journal.
   at MomentOfUs.Application.Service.JournalService.GetSharedUsersAsync(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 274
   at MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 89
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 21:38:04.2128 Warn NotFoundException: No shared users found for this journal. 
2025-02-23 21:38:04.2329 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 404 - application/json 452.5265ms 
2025-02-23 21:38:14.2515 Info Application Starting Up... 
2025-02-23 21:38:14.4363 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 21:38:14.4707 Info Now listening on: http://localhost:5063 
2025-02-23 21:38:14.4716 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 21:38:14.4716 Info Hosting environment: Development 
2025-02-23 21:38:14.4716 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 21:38:14.5427 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 21:38:14.6139 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 62.7131ms 
2025-02-23 21:38:14.6831 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 21:38:14.7317 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 48.5719ms 
2025-02-23 21:38:19.8801 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 21:38:20.3398 Info Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 21:38:20.3694 Warn Failed to determine the https port for redirect. 
2025-02-23 21:38:20.3713 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 21:38:20.3762 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess(System.Guid) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 21:38:20.3865 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 
2025-02-23 21:45:05.7123 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 405309.1845ms 
2025-02-23 21:45:05.7123 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 21:45:05.7204 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No shared users found for this journal.
   at MomentOfUs.Application.Service.JournalService.GetSharedUsersAsync(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 274
   at MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess(Guid journalId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 89
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 21:45:05.7363 Warn NotFoundException: No shared users found for this journal. 
2025-02-23 21:45:05.7684 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 404 - application/json 405889.6183ms 
2025-02-23 22:06:52.9144 Info Application Starting Up... 
2025-02-23 22:06:53.1283 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 22:06:53.1640 Info Now listening on: http://localhost:5063 
2025-02-23 22:06:53.1647 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 22:06:53.1647 Info Hosting environment: Development 
2025-02-23 22:06:53.1647 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 22:06:53.2692 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 22:06:53.3869 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 107.0213ms 
2025-02-23 22:06:53.4726 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 22:06:53.5310 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 58.3917ms 
2025-02-23 22:07:18.1293 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-23 22:07:18.1754 Info Failed to validate the token. Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-02-24 5:52:53AM', Current time (UTC): '2025-02-24 6:07:18AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-23 22:07:18.1863 Info Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-02-24 5:52:53AM', Current time (UTC): '2025-02-24 6:07:18AM'. 
2025-02-23 22:07:18.1874 Warn Failed to determine the https port for redirect. 
2025-02-23 22:07:18.1905 Info Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-02-23 22:07:18.1932 Info AuthenticationScheme: Bearer was challenged. 
2025-02-23 22:07:18.1932 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 401 0 - 64.1144ms 
2025-02-23 22:07:31.0742 Info Application Starting Up... 
2025-02-23 22:07:31.2526 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 22:07:31.2914 Info Now listening on: http://localhost:5063 
2025-02-23 22:07:31.2925 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 22:07:31.2927 Info Hosting environment: Development 
2025-02-23 22:07:31.2927 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 22:07:31.3639 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 22:07:31.4353 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 63.9410ms 
2025-02-23 22:07:31.5074 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 22:07:31.5855 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 78.0260ms 
2025-02-23 22:07:34.0485 Info Application Starting Up... 
2025-02-23 22:07:34.2169 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 22:07:34.2502 Info Now listening on: http://localhost:5063 
2025-02-23 22:07:34.2511 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 22:07:34.2511 Info Hosting environment: Development 
2025-02-23 22:07:34.2511 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 22:07:34.3350 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 22:07:34.4046 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 61.4828ms 
2025-02-23 22:07:34.4750 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 22:07:34.5217 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 46.6650ms 
2025-02-23 22:07:51.4576 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 95 
2025-02-23 22:07:51.4658 Warn Failed to determine the https port for redirect. 
2025-02-23 22:07:51.4682 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-23 22:07:51.4849 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-23 22:07:51.5662 Info Logging in user:abdullahtariq096@gmail.com 
2025-02-23 22:07:51.9301 Info Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-23 22:07:52.0140 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-23 22:07:52.0207 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-23 22:07:52.0253 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-23 22:07:52.0266 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-23 22:07:52.0275 Info Generating JWT Token 
2025-02-23 22:07:52.0391 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-23 22:07:52.0462 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 559.3097ms 
2025-02-23 22:07:52.0462 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-23 22:07:52.0482 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 590.6841ms 
2025-02-23 22:08:12.1621 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 93 
2025-02-23 22:08:12.1652 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-23 22:08:12.1652 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-23 22:08:12.1694 Info Logging in user:musaabdullah23@gmail.com 
2025-02-23 22:08:12.1952 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-23 22:08:12.2371 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-23 22:08:12.2379 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-23 22:08:12.2379 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-23 22:08:12.2389 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-23 22:08:12.2389 Info Generating JWT Token 
2025-02-23 22:08:12.2389 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-23 22:08:12.2389 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 74.0782ms 
2025-02-23 22:08:12.2389 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-23 22:08:12.2398 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 77.7046ms 
2025-02-23 22:08:14.3166 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Users/Login - application/json 93 
2025-02-23 22:08:14.3171 Info Executing endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-23 22:08:14.3171 Info Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MomentOfUs.Application.Dtos.UserDto.UserLoginDto) on controller MomentOfUs.API.Controllers.UserController (MomentOfUs.API). 
2025-02-23 22:08:14.3321 Info Logging in user:musaabdullah23@gmail.com 
2025-02-23 22:08:14.3402 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-23 22:08:14.3920 Info Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."ClaimType", "a"."ClaimValue", "a"."UserId"
FROM "AspNetUserClaims" AS "a"
WHERE "a"."UserId" = @__user_Id_0 
2025-02-23 22:08:14.3920 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0 
2025-02-23 22:08:14.3931 Info AuthenticationScheme: Identity.Application signed in. 
2025-02-23 22:08:14.3931 Info Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1 
2025-02-23 22:08:14.3931 Info Generating JWT Token 
2025-02-23 22:08:14.3931 Info Executing CreatedAtActionResult, writing value of type 'System.String'. 
2025-02-23 22:08:14.3938 Info Executed action MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API) in 76.5282ms 
2025-02-23 22:08:14.3938 Info Executed endpoint 'MomentOfUs.API.Controllers.UserController.Login (MomentOfUs.API)' 
2025-02-23 22:08:14.3938 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Users/Login - 201 - text/plain;+charset=utf-8 77.3966ms 
2025-02-23 22:08:27.8541 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-23 22:08:27.9032 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:08:27.9058 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 22:08:27.9073 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-23 22:08:27.9094 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:08:27.9147 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:08:27.9334 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 22:08:27.9402 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-23 22:08:27.9430 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.Journal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:08:27.9469 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 39.5772ms 
2025-02-23 22:08:27.9469 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 22:08:27.9469 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 200 - application/json;+charset=utf-8 92.8861ms 
2025-02-23 22:08:43.2454 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-23 22:08:43.3097 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:08:43.3114 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 22:08:43.3114 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-23 22:08:43.3122 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:08:43.3129 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:08:43.3141 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-23 22:08:43.3191 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.Journal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:08:43.3191 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 7.7487ms 
2025-02-23 22:08:43.3191 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 22:08:43.3199 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 200 - application/json;+charset=utf-8 74.5106ms 
2025-02-23 22:09:12.0009 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f - - - 
2025-02-23 22:09:12.0044 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:09:12.0071 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-23 22:09:12.0118 Info Route matched with {action = "GetJournalById", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJournalById(System.Guid) on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-23 22:09:12.0166 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:09:12.0171 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:09:12.0255 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 22:09:12.0350 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:09:12.0416 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 22:09:12.0444 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
FROM "Journals" AS "j"
WHERE "j"."Id" = @__journalId_0
LIMIT 2 
2025-02-23 22:09:12.0444 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Domain.Models.Journal'. 
2025-02-23 22:09:12.0444 Info Executed action MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API) in 32.8378ms 
2025-02-23 22:09:12.0444 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-23 22:09:12.0444 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f - 200 - application/json;+charset=utf-8 45.2207ms 
2025-02-23 22:09:22.8034 Info Request starting HTTP/1.1 PUT http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f - application/json 47 
2025-02-23 22:09:22.8050 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:09:22.8050 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.UpdateJournal (MomentOfUs.API)' 
2025-02-23 22:09:22.8097 Info Route matched with {action = "UpdateJournal", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateJournal(System.Guid, MomentOfUs.Application.Dtos.JournalDto.JournalUpdateDto) on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-23 22:09:22.8159 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:09:22.8165 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:09:22.8216 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 22:09:22.8317 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:09:22.8592 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 22:09:22.9002 Info Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (Size = 36), @p2='?' (Size = 6), @p3='?' (Size = 6), @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Journals" SET "CreatedAt" = @p0, "OwnerID" = @p1, "PhotoUrl" = @p2, "Title" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5
RETURNING 1; 
2025-02-23 22:09:22.9046 Info Executing StatusCodeResult, setting HTTP status code 204 
2025-02-23 22:09:22.9046 Info Executed action MomentOfUs.API.Controllers.JournalController.UpdateJournal (MomentOfUs.API) in 94.8033ms 
2025-02-23 22:09:22.9046 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.UpdateJournal (MomentOfUs.API)' 
2025-02-23 22:09:22.9046 Info Request finished HTTP/1.1 PUT http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f - 204 - - 101.4021ms 
2025-02-23 22:09:27.3433 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f - - - 
2025-02-23 22:09:27.3449 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:09:27.3453 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-23 22:09:27.3453 Info Route matched with {action = "GetJournalById", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJournalById(System.Guid) on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-23 22:09:27.3462 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:09:27.3462 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:09:27.3477 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:09:27.3486 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 22:09:27.3494 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
FROM "Journals" AS "j"
WHERE "j"."Id" = @__journalId_0
LIMIT 2 
2025-02-23 22:09:27.3494 Info Executing OkObjectResult, writing value of type 'MomentOfUs.Domain.Models.Journal'. 
2025-02-23 22:09:27.3500 Info Executed action MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API) in 4.5104ms 
2025-02-23 22:09:27.3500 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetJournalById (MomentOfUs.API)' 
2025-02-23 22:09:27.3500 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f - 200 - application/json;+charset=utf-8 7.0331ms 
2025-02-23 22:09:34.3925 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f - - - 
2025-02-23 22:09:34.3942 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:09:34.3942 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.DeleteJournal (MomentOfUs.API)' 
2025-02-23 22:09:34.3976 Info Route matched with {action = "DeleteJournal", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteJournal(System.Guid) on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-23 22:09:34.4010 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:09:34.4015 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:09:34.4025 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:09:34.4159 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:09:42.8636 Info Executed action MomentOfUs.API.Controllers.JournalController.DeleteJournal (MomentOfUs.API) in 8465.793ms 
2025-02-23 22:09:42.8645 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.DeleteJournal (MomentOfUs.API)' 
2025-02-23 22:09:42.8735 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Cannot delete journal with active shared users. Revoke access first.
   at MomentOfUs.Application.Service.JournalService.DeleteJournalAsync(Guid journalId, String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 106
   at MomentOfUs.API.Controllers.JournalController.DeleteJournal(Guid id) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalController.cs:line 98
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:09:42.8927 Warn BadRequestException: Cannot delete journal with active shared users. Revoke access first. 
2025-02-23 22:09:42.9251 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/Journals/45e49cb9-2d99-4c92-b352-e54f367c277f - 400 - application/json 8532.5196ms 
2025-02-23 22:10:04.7305 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared/users - - - 
2025-02-23 22:10:04.7348 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:10:04.7353 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:10:04.7388 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:10:04.7411 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:10:04.7415 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:10:04.7421 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:10:04.7435 Info Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectManySingleSelectorIterator`2[[MomentOfUs.Domain.Models.SharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MomentOfUs.Domain.Models.UserSharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:10:04.7482 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 9.246ms 
2025-02-23 22:10:04.7482 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:10:04.7482 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared/users - 200 - application/json;+charset=utf-8 17.9406ms 
2025-02-23 22:10:39.3670 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - - - 
2025-02-23 22:10:39.3700 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:10:39.3706 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:10:39.3740 Info Route matched with {action = "RevokeAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeAccess(System.Guid, System.String) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:10:39.3793 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:10:39.3793 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:10:39.3793 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:10:39.3793 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:10:39.3804 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:10:39.3804 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
FROM "Journals" AS "j"
WHERE "j"."Id" = @__journalId_0
LIMIT 2 
2025-02-23 22:10:39.3822 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 22:10:55.4323 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API) in 16058.151ms 
2025-02-23 22:10:55.4342 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:10:55.4485 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Failed to revoke access for user with ID 6a9bc996-8614-49d4-8428-e59aa95bf599.
   at MomentOfUs.Application.Service.JournalService.RevokeUserAccessAsync(Guid journalId, String ownerId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 269
   at MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess(Guid journalId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:10:55.4500 Warn BadRequestException: Failed to revoke access for user with ID 6a9bc996-8614-49d4-8428-e59aa95bf599. 
2025-02-23 22:10:55.4500 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - 400 - application/json 16083.1731ms 
2025-02-23 22:12:15.8345 Info Application Starting Up... 
2025-02-23 22:12:16.0260 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 22:12:16.0635 Info Now listening on: http://localhost:5063 
2025-02-23 22:12:16.0642 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 22:12:16.0642 Info Hosting environment: Development 
2025-02-23 22:12:16.0645 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 22:12:16.1477 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 22:12:16.2115 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 57.9568ms 
2025-02-23 22:12:16.2849 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 22:12:16.3302 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 45.2538ms 
2025-02-23 22:12:22.0866 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - - - 
2025-02-23 22:12:22.5527 Info Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:12:22.5813 Warn Failed to determine the https port for redirect. 
2025-02-23 22:12:22.5832 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:12:22.5882 Info Route matched with {action = "RevokeAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeAccess(System.Guid, System.String) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:12:22.5943 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:12:22.5995 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:12:22.5995 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:12:22.6008 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:12:22.6264 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 22:12:22.6331 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:12:22.6385 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
FROM "Journals" AS "j"
WHERE "j"."Id" = @__journalId_0
LIMIT 2 
2025-02-23 22:12:22.6419 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 22:12:47.1181 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API) in 24525.854ms 
2025-02-23 22:12:47.1196 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:12:47.1286 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Failed to revoke access for user with ID 6a9bc996-8614-49d4-8428-e59aa95bf599.
   at MomentOfUs.Application.Service.JournalService.RevokeUserAccessAsync(Guid journalId, String ownerId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 269
   at MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess(Guid journalId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:12:47.1459 Warn BadRequestException: Failed to revoke access for user with ID 6a9bc996-8614-49d4-8428-e59aa95bf599. 
2025-02-23 22:12:47.1811 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - 400 - application/json 25094.3097ms 
2025-02-23 22:15:51.7057 Info Application Starting Up... 
2025-02-23 22:15:51.9445 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 22:15:52.0012 Info Now listening on: http://localhost:5063 
2025-02-23 22:15:52.0024 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 22:15:52.0024 Info Hosting environment: Development 
2025-02-23 22:15:52.0024 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 22:15:52.0604 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 22:15:52.1516 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 74.6253ms 
2025-02-23 22:15:52.2176 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 22:15:52.2703 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 52.7265ms 
2025-02-23 22:15:55.8740 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - - - 
2025-02-23 22:15:56.3241 Info Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:15:56.3525 Warn Failed to determine the https port for redirect. 
2025-02-23 22:15:56.3544 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:15:56.3593 Info Route matched with {action = "RevokeAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeAccess(System.Guid, System.String) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:15:56.3655 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:15:56.3708 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:15:56.3708 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:15:56.3719 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:15:56.3953 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."JournalId" = @__journalId_0
ORDER BY "s"."Id" 
2025-02-23 22:16:05.7490 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API) in 9384.6542ms 
2025-02-23 22:16:05.7495 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:16:05.7587 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: SharedJournal with ID: 45e49cb9-2d99-4c92-b352-e54f367c277f does not exist.
   at MomentOfUs.Application.Service.JournalService.CheckEntityExist(Object entity, Guid id, String entityName) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 342
   at MomentOfUs.Application.Service.JournalService.RevokeUserAccessAsync(Guid journalId, String ownerId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 264
   at MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess(Guid journalId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:16:05.7753 Warn BadRequestException: SharedJournal with ID: 45e49cb9-2d99-4c92-b352-e54f367c277f does not exist. 
2025-02-23 22:16:05.8060 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - 400 - application/json 9931.8774ms 
2025-02-23 22:16:21.5709 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared/users - - - 
2025-02-23 22:16:21.6408 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:16:21.6421 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:16:21.6444 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:16:21.6456 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:16:21.6456 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:16:21.6547 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:16:21.6600 Info Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectManySingleSelectorIterator`2[[MomentOfUs.Domain.Models.SharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MomentOfUs.Domain.Models.UserSharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:16:21.6654 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 20.923ms 
2025-02-23 22:16:21.6654 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:16:21.6654 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared/users - 200 - application/json;+charset=utf-8 94.8284ms 
2025-02-23 22:16:46.4264 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/journals/db9b701a-f27a-4af2-99be-3c81348196fc/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - - - 
2025-02-23 22:16:46.4456 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:16:46.4469 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:16:46.4469 Info Route matched with {action = "RevokeAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeAccess(System.Guid, System.String) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:16:46.4489 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:16:46.4489 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:16:46.4489 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:16:46.4495 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:16:46.4495 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."JournalId" = @__journalId_0
ORDER BY "s"."Id" 
2025-02-23 22:16:50.6216 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API) in 4171.5539ms 
2025-02-23 22:16:50.6216 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:16:50.6333 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: SharedJournal with ID: db9b701a-f27a-4af2-99be-3c81348196fc does not exist.
   at MomentOfUs.Application.Service.JournalService.CheckEntityExist(Object entity, Guid id, String entityName) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 342
   at MomentOfUs.Application.Service.JournalService.RevokeUserAccessAsync(Guid journalId, String ownerId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 264
   at MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess(Guid journalId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:16:50.6343 Warn BadRequestException: SharedJournal with ID: db9b701a-f27a-4af2-99be-3c81348196fc does not exist. 
2025-02-23 22:16:50.6343 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/journals/db9b701a-f27a-4af2-99be-3c81348196fc/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - 400 - application/json 4207.6485ms 
2025-02-23 22:17:06.3048 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared/users - - - 
2025-02-23 22:17:06.3105 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:17:06.3105 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:17:06.3112 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:17:06.3112 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:17:06.3122 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:17:06.3132 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:17:06.3143 Info Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectManySingleSelectorIterator`2[[MomentOfUs.Domain.Models.SharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MomentOfUs.Domain.Models.UserSharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:17:06.3143 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 3.4097ms 
2025-02-23 22:17:06.3143 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:17:06.3143 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared/users - 200 - application/json;+charset=utf-8 10.2337ms 
2025-02-23 22:19:52.1761 Info Application Starting Up... 
2025-02-23 22:19:52.3812 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 22:19:52.4283 Info Now listening on: http://localhost:5063 
2025-02-23 22:19:52.4300 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 22:19:52.4302 Info Hosting environment: Development 
2025-02-23 22:19:52.4302 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 22:19:52.5547 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 22:19:52.6926 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 128.1856ms 
2025-02-23 22:19:52.7679 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 22:19:52.8352 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 67.2272ms 
2025-02-23 22:20:01.1722 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared/users - - - 
2025-02-23 22:20:01.6514 Info Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:20:01.6818 Warn Failed to determine the https port for redirect. 
2025-02-23 22:20:01.6838 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:20:01.6873 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:20:01.6895 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:20:01.6950 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:20:01.7219 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:20:01.7269 Info Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectManySingleSelectorIterator`2[[MomentOfUs.Domain.Models.SharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MomentOfUs.Domain.Models.UserSharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:20:01.7325 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 43.3237ms 
2025-02-23 22:20:01.7325 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:20:01.7347 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared/users - 200 - application/json;+charset=utf-8 562.5125ms 
2025-02-23 22:20:09.0996 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/journals/db9b701a-f27a-4af2-99be-3c81348196fc/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - - - 
2025-02-23 22:20:09.1294 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:20:09.1294 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:20:09.1341 Info Route matched with {action = "RevokeAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeAccess(System.Guid, System.String) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:20:09.1401 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:20:09.1405 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:20:09.1405 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:20:09.1405 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:20:09.1484 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 22:20:09.1546 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:20:14.8476 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API) in 5713.3183ms 
2025-02-23 22:20:14.8486 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:20:14.8599 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Journal with ID: db9b701a-f27a-4af2-99be-3c81348196fc does not exist.
   at MomentOfUs.Application.Service.JournalService.CheckEntityExist(Object entity, Guid id, String entityName) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 353
   at MomentOfUs.Application.Service.JournalService.RevokeUserAccessAsync(Guid journalId, String ownerId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 263
   at MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess(Guid journalId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:20:14.8840 Warn BadRequestException: Journal with ID: db9b701a-f27a-4af2-99be-3c81348196fc does not exist. 
2025-02-23 22:20:14.9243 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/journals/db9b701a-f27a-4af2-99be-3c81348196fc/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - 400 - application/json 5824.6900ms 
2025-02-23 22:20:38.6492 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/journals/db9b701a-f27a-4af2-99be-3c81348196fc/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - - - 
2025-02-23 22:20:38.6677 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:20:38.6691 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:20:38.6691 Info Route matched with {action = "RevokeAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeAccess(System.Guid, System.String) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:20:38.6711 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:20:38.6711 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:20:38.6711 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:20:38.6716 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:20:38.6726 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:20:46.6798 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API) in 8010.3197ms 
2025-02-23 22:20:46.6814 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:20:49.3485 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: Journal with ID: db9b701a-f27a-4af2-99be-3c81348196fc does not exist.
   at MomentOfUs.Application.Service.JournalService.CheckEntityExist(Object entity, Guid id, String entityName) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 353
   at MomentOfUs.Application.Service.JournalService.RevokeUserAccessAsync(Guid journalId, String ownerId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 263
   at MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess(Guid journalId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:20:49.5599 Warn BadRequestException: Journal with ID: db9b701a-f27a-4af2-99be-3c81348196fc does not exist. 
2025-02-23 22:20:50.6702 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/journals/db9b701a-f27a-4af2-99be-3c81348196fc/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - 400 - application/json 12020.9010ms 
2025-02-23 22:20:57.4467 Info Application Starting Up... 
2025-02-23 22:20:57.6187 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 22:20:57.6787 Info Now listening on: http://localhost:5063 
2025-02-23 22:20:57.6787 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 22:20:57.6787 Info Hosting environment: Development 
2025-02-23 22:20:57.6797 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 22:20:57.7650 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 22:20:57.8313 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 58.9947ms 
2025-02-23 22:20:57.9039 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 22:20:57.9529 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 48.9794ms 
2025-02-23 22:21:39.0222 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared/users - - - 
2025-02-23 22:21:39.4820 Info Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:21:39.5115 Warn Failed to determine the https port for redirect. 
2025-02-23 22:21:39.5134 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:21:39.5168 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:21:39.5189 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:21:39.5240 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:21:39.5484 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:21:39.5530 Info Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectManySingleSelectorIterator`2[[MomentOfUs.Domain.Models.SharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MomentOfUs.Domain.Models.UserSharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:21:39.5586 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 39.8683ms 
2025-02-23 22:21:39.5586 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:21:39.5605 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared/users - 200 - application/json;+charset=utf-8 540.4368ms 
2025-02-23 22:21:57.2931 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - - - 
2025-02-23 22:21:57.3588 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:21:57.3598 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:21:57.3653 Info Route matched with {action = "RevokeAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeAccess(System.Guid, System.String) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:21:57.3731 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:21:57.3736 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:21:57.3736 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:21:57.3736 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:21:57.3837 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 22:21:57.3911 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:21:57.3981 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."JournalId" = @__journalId_0
ORDER BY "s"."Id" 
2025-02-23 22:22:16.6470 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API) in 19281.3481ms 
2025-02-23 22:22:16.6482 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:22:16.6559 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No shared access found for user ID 6a9bc996-8614-49d4-8428-e59aa95bf599
   at MomentOfUs.Application.Service.JournalService.RevokeUserAccessAsync(Guid journalId, String ownerId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 275
   at MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess(Guid journalId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:22:16.6869 Warn NotFoundException: No shared access found for user ID 6a9bc996-8614-49d4-8428-e59aa95bf599 
2025-02-23 22:22:16.7130 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/journals/45e49cb9-2d99-4c92-b352-e54f367c277f/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - 404 - application/json 19419.7663ms 
2025-02-23 22:24:40.6409 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-23 22:24:40.6681 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:24:40.6695 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 22:24:40.6719 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-23 22:24:40.6742 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:24:40.6742 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:24:40.6794 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 22:24:40.6884 Info Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-23 22:24:40.6913 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.Journal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:24:40.6949 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 23.0192ms 
2025-02-23 22:24:40.6949 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 22:24:40.6949 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 200 - application/json;+charset=utf-8 54.4338ms 
2025-02-23 22:24:57.1968 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 22:24:57.1986 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:24:57.1991 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:24:57.1991 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:24:57.1991 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:24:57.2005 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:24:57.2014 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:24:57.2024 Info Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectManySingleSelectorIterator`2[[MomentOfUs.Domain.Models.SharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MomentOfUs.Domain.Models.UserSharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:24:57.2024 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 3.1516ms 
2025-02-23 22:24:57.2024 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:24:57.2024 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 200 - application/json;+charset=utf-8 6.2254ms 
2025-02-23 22:25:21.4555 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared?targetUserId=%226a9bc996-8614-49d4-8428-e59aa95bf599%22 - - - 
2025-02-23 22:25:21.4574 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:25:21.4574 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:25:21.4574 Info Route matched with {action = "RevokeAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeAccess(System.Guid, System.String) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:25:21.4609 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:25:21.4616 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:25:21.4616 Info Checking if user with id: "6a9bc996-8614-49d4-8428-e59aa95bf599" exists 
2025-02-23 22:25:21.4625 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 38)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:25:29.3589 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API) in 7900.3608ms 
2025-02-23 22:25:29.3598 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:25:29.3773 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID: "6a9bc996-8614-49d4-8428-e59aa95bf599" does not exist.
   at MomentOfUs.Application.Service.JournalService.ValidateUser(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 361
   at MomentOfUs.Application.Service.JournalService.RevokeUserAccessAsync(Guid journalId, String ownerId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 259
   at MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess(Guid journalId, String targetUserId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:25:29.3788 Warn BadRequestException: User with ID: "6a9bc996-8614-49d4-8428-e59aa95bf599" does not exist. 
2025-02-23 22:25:29.3796 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared?targetUserId=%226a9bc996-8614-49d4-8428-e59aa95bf599%22 - 400 - application/json 7923.9290ms 
2025-02-23 22:25:35.9446 Info Request starting HTTP/1.1 DELETE http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - - - 
2025-02-23 22:25:35.9471 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:25:35.9475 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:25:35.9475 Info Route matched with {action = "RevokeAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeAccess(System.Guid, System.String) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:25:35.9475 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:25:35.9486 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:25:35.9486 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:25:35.9499 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:25:35.9506 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:25:35.9519 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."JournalId" = @__journalId_0
ORDER BY "s"."Id" 
2025-02-23 22:25:35.9635 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 22:25:36.0248 Info Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
DELETE FROM "UserSharedJournals"
WHERE "Id" = @p0
RETURNING 1; 
2025-02-23 22:25:36.0308 Info Executing StatusCodeResult, setting HTTP status code 204 
2025-02-23 22:25:36.0308 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API) in 83.1725ms 
2025-02-23 22:25:36.0308 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.RevokeAccess (MomentOfUs.API)' 
2025-02-23 22:25:36.0308 Info Request finished HTTP/1.1 DELETE http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared?targetUserId=6a9bc996-8614-49d4-8428-e59aa95bf599 - 204 - - 86.3625ms 
2025-02-23 22:26:05.3690 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 22:26:05.3738 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:26:05.3738 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:26:05.3738 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:26:05.3738 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:26:05.3750 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:26:05.3750 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:26:10.5087 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 5134.0993ms 
2025-02-23 22:26:10.5093 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:26:10.5236 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No shared users found for user ID a52a5349-3c2d-48fd-8e93-a65f75c09ca6.
   at MomentOfUs.Application.Service.JournalService.GetSharedUsersAsync(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 296
   at MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess() in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 89
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:26:10.5247 Warn NotFoundException: No shared users found for user ID a52a5349-3c2d-48fd-8e93-a65f75c09ca6. 
2025-02-23 22:26:10.5250 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 404 - application/json 5155.8868ms 
2025-02-23 22:27:30.0166 Info Request starting HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - application/json 134 
2025-02-23 22:27:30.0203 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:27:30.0208 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-23 22:27:30.0252 Info Route matched with {action = "ShareJournal", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareJournal(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalCreateDto) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:27:30.0442 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:27:30.0442 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:27:30.0446 Info Checking if user with id: 96b5c156-3fa6-4473-b41b-4a89ed1c02ec exists 
2025-02-23 22:27:30.0446 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:27:38.8364 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API) in 8810.8366ms 
2025-02-23 22:27:38.8372 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-23 22:27:38.8572 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID: 96b5c156-3fa6-4473-b41b-4a89ed1c02ec does not exist.
   at MomentOfUs.Application.Service.JournalService.ValidateUser(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 361
   at MomentOfUs.Application.Service.JournalService.ShareJournalAsync(Guid journalId, String ownerId, String targetUserId, PermissionLevel permission) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 203
   at MomentOfUs.API.Controllers.SharedJournalController.ShareJournal(Guid journalId, SharedJournalCreateDto sharedJournalCreateDto) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:27:38.8616 Warn BadRequestException: User with ID: 96b5c156-3fa6-4473-b41b-4a89ed1c02ec does not exist. 
2025-02-23 22:27:38.8633 Info Request finished HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - 400 - application/json 8845.7872ms 
2025-02-23 22:27:51.6923 Info Request starting HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - application/json 134 
2025-02-23 22:27:51.6945 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:27:51.6949 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-23 22:27:51.6949 Info Route matched with {action = "ShareJournal", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareJournal(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalCreateDto) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:27:51.6959 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:27:51.6959 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:27:51.6959 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:27:51.6970 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:27:51.6978 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:27:51.6978 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."JournalId" = @__journalId_0
ORDER BY "s"."Id" 
2025-02-23 22:27:51.7440 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (Size = 36), @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "SharedJournals" ("Id", "CreatedAt", "JournalId", "OwnerId", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4); 
2025-02-23 22:27:51.7473 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 22:27:51.7499 Info Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Guid), @p3='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
INSERT INTO "UserSharedJournals" ("Id", "PermissionLevel", "SharedJournalId", "UserId")
VALUES (@p0, @p1, @p2, @p3); 
2025-02-23 22:27:51.7499 Info Executing StatusCodeResult, setting HTTP status code 200 
2025-02-23 22:27:51.7499 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API) in 55.0094ms 
2025-02-23 22:27:51.7499 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.ShareJournal (MomentOfUs.API)' 
2025-02-23 22:27:51.7499 Info Request finished HTTP/1.1 POST http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - 200 0 - 58.0242ms 
2025-02-23 22:27:58.8072 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 22:27:58.8088 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:27:58.8092 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:27:58.8092 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:27:58.8092 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:27:58.8101 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:27:58.8110 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:27:58.8110 Info Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectManySingleSelectorIterator`2[[MomentOfUs.Domain.Models.SharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MomentOfUs.Domain.Models.UserSharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:27:58.8110 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 2.4054ms 
2025-02-23 22:27:58.8119 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:27:58.8119 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 200 - application/json;+charset=utf-8 4.8759ms 
2025-02-23 22:28:15.2035 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals - - - 
2025-02-23 22:28:15.2049 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:28:15.2053 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 22:28:15.2053 Info Route matched with {action = "GetAllJournals", controller = "Journal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllJournals() on controller MomentOfUs.API.Controllers.JournalController (MomentOfUs.API). 
2025-02-23 22:28:15.2053 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:28:15.2062 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:28:15.2072 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM "Journals" AS "j"
LEFT JOIN "JournalEntries" AS "j0" ON "j"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j"."Id" = "s"."JournalId"
WHERE "j"."OwnerID" = @__userId_0
ORDER BY "j"."Id", "j0"."Id" 
2025-02-23 22:28:15.2072 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.Journal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:28:15.2072 Info Executed action MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API) in 2.3009ms 
2025-02-23 22:28:15.2072 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalController.GetAllJournals (MomentOfUs.API)' 
2025-02-23 22:28:15.2081 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals - 200 - application/json;+charset=utf-8 4.6547ms 
2025-02-23 22:28:45.2920 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 22:28:45.2968 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:28:45.2977 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:28:45.2977 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:28:45.2983 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:28:45.2983 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:28:45.2999 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:28:50.5728 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 5274.4872ms 
2025-02-23 22:28:50.5752 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:28:50.5931 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No shared journals found for user ID 6a9bc996-8614-49d4-8428-e59aa95bf599.
   at MomentOfUs.Application.Service.JournalService.GetSharedUsersAsync(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 292
   at MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess() in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 89
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:28:50.5940 Warn NotFoundException: No shared journals found for user ID 6a9bc996-8614-49d4-8428-e59aa95bf599. 
2025-02-23 22:28:50.5940 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 404 - application/json 5302.3809ms 
2025-02-23 22:29:01.4782 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 22:29:01.4801 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:29:01.4806 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:29:01.4806 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:29:01.4806 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:29:01.4820 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:29:01.4827 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:29:01.4827 Info Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectManySingleSelectorIterator`2[[MomentOfUs.Domain.Models.SharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MomentOfUs.Domain.Models.UserSharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:29:01.4835 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 2.5567ms 
2025-02-23 22:29:01.4835 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:29:01.4835 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 200 - application/json;+charset=utf-8 5.5777ms 
2025-02-23 22:29:46.2093 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 42 
2025-02-23 22:29:46.2141 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:29:46.2141 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 22:29:46.2185 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-23 22:29:46.2278 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:29:46.2283 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:29:46.2283 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:29:46.2456 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s0"."Id", "s0"."CreatedAt", "s0"."JournalId", "s0"."OwnerId", "s0"."UpdatedAt", "s1"."Id", "s1"."PermissionLevel", "s1"."SharedJournalId", "s1"."UserId", "s1"."Id0", "s1"."AccessFailedCount", "s1"."ConcurrencyStamp", "s1"."Email", "s1"."EmailConfirmed", "s1"."FirstName", "s1"."LastName", "s1"."LockoutEnabled", "s1"."LockoutEnd", "s1"."NormalizedEmail", "s1"."NormalizedUserName", "s1"."PasswordHash", "s1"."PhoneNumber", "s1"."PhoneNumberConfirmed", "s1"."ProfileImageUrl", "s1"."SecurityStamp", "s1"."TwoFactorEnabled", "s1"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
    FROM "SharedJournals" AS "s"
    WHERE "s"."JournalId" = @__journalId_0
    LIMIT 1
) AS "s0"
LEFT JOIN (
    SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "UserSharedJournals" AS "u"
    INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
) AS "s1" ON "s0"."Id" = "s1"."SharedJournalId"
ORDER BY "s0"."Id", "s1"."Id" 
2025-02-23 22:29:50.9490 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 4730.2262ms 
2025-02-23 22:29:50.9490 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 22:29:50.9742 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries.
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 129
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:29:50.9770 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. 
2025-02-23 22:29:50.9796 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 400 - application/json 4770.2633ms 
2025-02-23 22:30:05.4287 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 22:30:05.4301 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:30:05.4301 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:30:05.4301 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:30:05.4301 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:30:05.4318 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:30:05.4324 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:30:22.2787 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 16847.603ms 
2025-02-23 22:30:22.2793 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:30:22.2969 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No shared journals found for user ID 6a9bc996-8614-49d4-8428-e59aa95bf599.
   at MomentOfUs.Application.Service.JournalService.GetSharedUsersAsync(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 292
   at MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess() in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 89
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:30:22.2979 Warn NotFoundException: No shared journals found for user ID 6a9bc996-8614-49d4-8428-e59aa95bf599. 
2025-02-23 22:30:22.2982 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 404 - application/json 16869.3133ms 
2025-02-23 22:31:07.4525 Info Request starting HTTP/1.1 PUT http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - application/json 79 
2025-02-23 22:31:07.4560 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:31:07.4560 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API)' 
2025-02-23 22:31:07.4611 Info Route matched with {action = "UpdatePermission", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePermission(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalUpdated) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:31:07.4686 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:31:07.4691 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:31:07.4691 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:31:07.4691 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:31:07.4698 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:31:07.4698 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."JournalId" = @__journalId_0
ORDER BY "s"."Id" 
2025-02-23 22:31:07.4710 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 22:31:07.4755 Info Executed DbCommand (0ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
UPDATE "UserSharedJournals" SET "PermissionLevel" = @p0, "SharedJournalId" = @p1, "UserId" = @p2
WHERE "Id" = @p3
RETURNING 1; 
2025-02-23 22:31:07.4768 Info Executing StatusCodeResult, setting HTTP status code 200 
2025-02-23 22:31:07.4768 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API) in 15.6144ms 
2025-02-23 22:31:07.4768 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API)' 
2025-02-23 22:31:07.4768 Info Request finished HTTP/1.1 PUT http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - 200 0 - 24.5290ms 
2025-02-23 22:31:11.0247 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 22:31:11.0289 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:31:11.0289 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:31:11.0289 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:31:11.0289 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:31:11.0299 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:31:11.0299 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:31:11.0308 Info Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectManySingleSelectorIterator`2[[MomentOfUs.Domain.Models.SharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MomentOfUs.Domain.Models.UserSharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:31:11.0308 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 1.5737ms 
2025-02-23 22:31:11.0308 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:31:11.0308 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 200 - application/json;+charset=utf-8 7.0297ms 
2025-02-23 22:31:24.6378 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 42 
2025-02-23 22:31:24.6392 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:31:24.6392 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 22:31:24.6392 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-23 22:31:24.6404 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:31:24.6404 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:31:24.6414 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:31:24.6427 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s0"."Id", "s0"."CreatedAt", "s0"."JournalId", "s0"."OwnerId", "s0"."UpdatedAt", "s1"."Id", "s1"."PermissionLevel", "s1"."SharedJournalId", "s1"."UserId", "s1"."Id0", "s1"."AccessFailedCount", "s1"."ConcurrencyStamp", "s1"."Email", "s1"."EmailConfirmed", "s1"."FirstName", "s1"."LastName", "s1"."LockoutEnabled", "s1"."LockoutEnd", "s1"."NormalizedEmail", "s1"."NormalizedUserName", "s1"."PasswordHash", "s1"."PhoneNumber", "s1"."PhoneNumberConfirmed", "s1"."ProfileImageUrl", "s1"."SecurityStamp", "s1"."TwoFactorEnabled", "s1"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
    FROM "SharedJournals" AS "s"
    WHERE "s"."JournalId" = @__journalId_0
    LIMIT 1
) AS "s0"
LEFT JOIN (
    SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "UserSharedJournals" AS "u"
    INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
) AS "s1" ON "s0"."Id" = "s1"."SharedJournalId"
ORDER BY "s0"."Id", "s1"."Id" 
2025-02-23 22:31:30.3902 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 5750.187ms 
2025-02-23 22:31:30.3913 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 22:31:30.4067 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries.
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 129
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:31:30.4077 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. 
2025-02-23 22:31:30.4080 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 400 - application/json 5770.1025ms 
2025-02-23 22:31:41.6922 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 42 
2025-02-23 22:31:41.6936 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:31:41.6975 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 22:31:41.6975 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-23 22:31:41.6975 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:31:41.6985 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:31:41.6993 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:31:41.7001 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s0"."Id", "s0"."CreatedAt", "s0"."JournalId", "s0"."OwnerId", "s0"."UpdatedAt", "s1"."Id", "s1"."PermissionLevel", "s1"."SharedJournalId", "s1"."UserId", "s1"."Id0", "s1"."AccessFailedCount", "s1"."ConcurrencyStamp", "s1"."Email", "s1"."EmailConfirmed", "s1"."FirstName", "s1"."LastName", "s1"."LockoutEnabled", "s1"."LockoutEnd", "s1"."NormalizedEmail", "s1"."NormalizedUserName", "s1"."PasswordHash", "s1"."PhoneNumber", "s1"."PhoneNumberConfirmed", "s1"."ProfileImageUrl", "s1"."SecurityStamp", "s1"."TwoFactorEnabled", "s1"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
    FROM "SharedJournals" AS "s"
    WHERE "s"."JournalId" = @__journalId_0
    LIMIT 1
) AS "s0"
LEFT JOIN (
    SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "UserSharedJournals" AS "u"
    INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
) AS "s1" ON "s0"."Id" = "s1"."SharedJournalId"
ORDER BY "s0"."Id", "s1"."Id" 
2025-02-23 22:31:56.7733 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 15075.4067ms 
2025-02-23 22:31:56.7733 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 22:31:56.7906 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries.
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 129
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:31:56.7916 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. 
2025-02-23 22:31:56.7916 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 400 - application/json 15099.5307ms 
2025-02-23 22:33:57.8508 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 22:33:57.8540 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:33:57.8550 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:33:57.8554 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:33:57.8554 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:33:57.8554 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:33:57.8567 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:33:57.8567 Info Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectManySingleSelectorIterator`2[[MomentOfUs.Domain.Models.SharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MomentOfUs.Domain.Models.UserSharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:33:57.8580 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 2.4722ms 
2025-02-23 22:33:57.8580 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:33:57.8584 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 200 - application/json;+charset=utf-8 34.8785ms 
2025-02-23 22:35:52.5821 Info Application Starting Up... 
2025-02-23 22:35:52.8121 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 22:35:52.8477 Info Now listening on: http://localhost:5063 
2025-02-23 22:35:52.8477 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 22:35:52.8485 Info Hosting environment: Development 
2025-02-23 22:35:52.8485 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 22:35:52.9320 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 22:35:53.0040 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 65.8576ms 
2025-02-23 22:35:53.0802 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 22:35:53.1483 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 68.1140ms 
2025-02-23 22:35:57.9757 Info Request starting HTTP/1.1 PUT http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - application/json 79 
2025-02-23 22:35:58.4441 Info Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:35:58.4726 Warn Failed to determine the https port for redirect. 
2025-02-23 22:35:58.4745 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API)' 
2025-02-23 22:35:58.4795 Info Route matched with {action = "UpdatePermission", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePermission(System.Guid, MomentOfUs.Application.Dtos.SharedJournalDto.SharedJournalUpdated) on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:35:58.4912 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:35:58.4966 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:35:58.4966 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:35:58.4980 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:35:58.5226 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 22:35:58.5293 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:35:58.5395 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."JournalId" = @__journalId_0
ORDER BY "s"."Id" 
2025-02-23 22:35:58.5433 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 22:35:58.5872 Info Executed DbCommand (0ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
UPDATE "UserSharedJournals" SET "PermissionLevel" = @p0, "SharedJournalId" = @p1, "UserId" = @p2
WHERE "Id" = @p3
RETURNING 1; 
2025-02-23 22:35:58.5919 Info Executing StatusCodeResult, setting HTTP status code 200 
2025-02-23 22:35:58.5938 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API) in 112.5265ms 
2025-02-23 22:35:58.5938 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.UpdatePermission (MomentOfUs.API)' 
2025-02-23 22:35:58.5959 Info Request finished HTTP/1.1 PUT http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared - 200 0 - 620.1843ms 
2025-02-23 22:36:09.5527 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 42 
2025-02-23 22:36:09.5928 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:36:09.5939 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 22:36:09.5964 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-23 22:36:09.6019 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:36:09.6019 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:36:09.6028 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:36:09.6195 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s0"."Id", "s0"."CreatedAt", "s0"."JournalId", "s0"."OwnerId", "s0"."UpdatedAt", "s1"."Id", "s1"."PermissionLevel", "s1"."SharedJournalId", "s1"."UserId", "s1"."Id0", "s1"."AccessFailedCount", "s1"."ConcurrencyStamp", "s1"."Email", "s1"."EmailConfirmed", "s1"."FirstName", "s1"."LastName", "s1"."LockoutEnabled", "s1"."LockoutEnd", "s1"."NormalizedEmail", "s1"."NormalizedUserName", "s1"."PasswordHash", "s1"."PhoneNumber", "s1"."PhoneNumberConfirmed", "s1"."ProfileImageUrl", "s1"."SecurityStamp", "s1"."TwoFactorEnabled", "s1"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
    FROM "SharedJournals" AS "s"
    WHERE "s"."JournalId" = @__journalId_0
    LIMIT 1
) AS "s0"
LEFT JOIN (
    SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "UserSharedJournals" AS "u"
    INNER JOIN "AspNetUsers" AS "a" ON "u"."UserId" = "a"."Id"
) AS "s1" ON "s0"."Id" = "s1"."SharedJournalId"
ORDER BY "s0"."Id", "s1"."Id" 
2025-02-23 22:36:27.5039 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 17907.1206ms 
2025-02-23 22:36:27.5052 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 22:36:27.5172 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries.
   at MomentOfUs.Application.Service.JournalService.AddJournalEntryAsync(Guid journalId, String userId, String content, MoodType mood) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 129
   at MomentOfUs.API.Controllers.JournalEntryController.CreateEntry(Guid journalId, JournalEntryCreateDto entry) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/JournalEntryController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:36:27.5379 Warn BadRequestException: User with ID 6a9bc996-8614-49d4-8428-e59aa95bf599 does not have permission to add entries. 
2025-02-23 22:36:27.5683 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 400 - application/json 18015.4507ms 
2025-02-23 22:42:26.6824 Info Application Starting Up... 
2025-02-23 22:42:26.8795 Info User profile is available. Using '/Users/abdullahtariq/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-02-23 22:42:26.9190 Info Now listening on: http://localhost:5063 
2025-02-23 22:42:26.9200 Info Application started. Press Ctrl+C to shut down. 
2025-02-23 22:42:26.9200 Info Hosting environment: Development 
2025-02-23 22:42:26.9202 Info Content root path: /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API 
2025-02-23 22:42:27.0629 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/index.html - - - 
2025-02-23 22:42:27.1668 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/index.html - 200 - text/html;charset=utf-8 91.8007ms 
2025-02-23 22:42:27.2398 Info Request starting HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - - - 
2025-02-23 22:42:27.3147 Info Request finished HTTP/1.1 GET http://localhost:5063/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 74.8889ms 
2025-02-23 22:42:35.8618 Info Request starting HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - application/json 42 
2025-02-23 22:42:36.3241 Info Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:42:36.3525 Warn Failed to determine the https port for redirect. 
2025-02-23 22:42:36.3544 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 22:42:36.3593 Info Route matched with {action = "CreateEntry", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEntry(System.Guid, MomentOfUs.Application.Dtos.JournalEntryDto.JournalEntryCreateDto) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-23 22:42:36.3708 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:42:36.3761 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:42:36.4009 Warn Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
2025-02-23 22:42:36.4077 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j1"."Id", "j1"."CreatedAt", "j1"."OwnerID", "j1"."PhotoUrl", "j1"."Title", "j1"."UpdatedAt", "j0"."Id", "j0"."Content", "j0"."CreatedAt", "j0"."IsSynced", "j0"."JournalId", "j0"."Mood", "j0"."UpdatedAt", "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt"
FROM (
    SELECT "j"."Id", "j"."CreatedAt", "j"."OwnerID", "j"."PhotoUrl", "j"."Title", "j"."UpdatedAt"
    FROM "Journals" AS "j"
    WHERE "j"."Id" = @__journalId_0
    LIMIT 2
) AS "j1"
LEFT JOIN "JournalEntries" AS "j0" ON "j1"."Id" = "j0"."JournalId"
LEFT JOIN "SharedJournals" AS "s" ON "j1"."Id" = "s"."JournalId"
ORDER BY "j1"."Id", "j0"."Id" 
2025-02-23 22:42:36.4176 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."JournalId" = @__journalId_0
ORDER BY "s"."Id" 
2025-02-23 22:42:36.4213 Info Executed DbCommand (0ms) [Parameters=[@__sharedJournalId_0='?' (DbType = Guid), @__userId_1='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "UserSharedJournals" AS "u"
WHERE "u"."SharedJournalId" = @__sharedJournalId_0 AND "u"."UserId" = @__userId_1
LIMIT 1 
2025-02-23 22:42:36.4718 Info Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 10), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "JournalEntries" ("Id", "Content", "CreatedAt", "IsSynced", "JournalId", "Mood", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2025-02-23 22:42:36.4760 Info Executing CreatedAtActionResult, writing value of type 'System.Guid'. 
2025-02-23 22:42:36.4846 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API) in 123.4751ms 
2025-02-23 22:42:36.4846 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.CreateEntry (MomentOfUs.API)' 
2025-02-23 22:42:36.4866 Info Request finished HTTP/1.1 POST http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 201 - application/json;+charset=utf-8 624.8582ms 
2025-02-23 22:43:27.5072 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 22:43:27.6167 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:43:27.6179 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:43:27.6200 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:43:27.6210 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:43:27.6216 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:43:27.6296 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:43:27.6310 Info Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectManySingleSelectorIterator`2[[MomentOfUs.Domain.Models.SharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MomentOfUs.Domain.Models.UserSharedJournal, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:43:27.6342 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 14.211ms 
2025-02-23 22:43:27.6342 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:43:27.6342 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 200 - application/json;+charset=utf-8 127.3963ms 
2025-02-23 22:43:41.0163 Info Request starting HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - - - 
2025-02-23 22:43:41.0392 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:43:41.0405 Info Executing endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-23 22:43:41.0429 Info Route matched with {action = "GetAllEntries", controller = "JournalEntry"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEntries(System.Guid) on controller MomentOfUs.API.Controllers.JournalEntryController (MomentOfUs.API). 
2025-02-23 22:43:41.0459 Info Checking if user with id: a52a5349-3c2d-48fd-8e93-a65f75c09ca6 exists 
2025-02-23 22:43:41.0459 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:43:41.0511 Info Executed DbCommand (0ms) [Parameters=[@__journalId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "j"."Id", "j"."Content", "j"."CreatedAt", "j"."IsSynced", "j"."JournalId", "j"."Mood", "j"."UpdatedAt"
FROM "JournalEntries" AS "j"
WHERE "j"."JournalId" = @__journalId_0 
2025-02-23 22:43:41.0511 Info Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MomentOfUs.Domain.Models.JournalEntry, MomentOfUs.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-02-23 22:43:41.0554 Info Executed action MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API) in 12.4689ms 
2025-02-23 22:43:41.0554 Info Executed endpoint 'MomentOfUs.API.Controllers.JournalEntryController.GetAllEntries (MomentOfUs.API)' 
2025-02-23 22:43:41.0554 Info Request finished HTTP/1.1 GET http://localhost:5063/api/Journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/entries - 200 - application/json;+charset=utf-8 39.2543ms 
2025-02-23 22:44:04.1862 Info Request starting HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - - - 
2025-02-23 22:44:04.2128 Info Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfileImageUrl", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1 
2025-02-23 22:44:04.2128 Info Executing endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:44:04.2139 Info Route matched with {action = "GetAllUsersWithAccess", controller = "SharedJournal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersWithAccess() on controller MomentOfUs.API.Controllers.SharedJournalController (MomentOfUs.API). 
2025-02-23 22:44:04.2139 Info Checking if user with id: 6a9bc996-8614-49d4-8428-e59aa95bf599 exists 
2025-02-23 22:44:04.2150 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AspNetUsers" AS "a"
    WHERE "a"."Id" = @__userId_0) 
2025-02-23 22:44:04.2163 Info Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='Text', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedAt", "s"."JournalId", "s"."OwnerId", "s"."UpdatedAt", "u"."Id", "u"."PermissionLevel", "u"."SharedJournalId", "u"."UserId"
FROM "SharedJournals" AS "s"
LEFT JOIN "UserSharedJournals" AS "u" ON "s"."Id" = "u"."SharedJournalId"
WHERE "s"."OwnerId" = @__userId_0
ORDER BY "s"."Id" 
2025-02-23 22:44:07.4063 Info Executed action MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API) in 3192.2353ms 
2025-02-23 22:44:07.4072 Info Executed endpoint 'MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess (MomentOfUs.API)' 
2025-02-23 22:44:07.4178 Error An unhandled exception occurred MomentOfUs.Domain.Exceptions.NotFoundException: No shared journals found for user ID 6a9bc996-8614-49d4-8428-e59aa95bf599.
   at MomentOfUs.Application.Service.JournalService.GetSharedUsersAsync(String userId) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.Application/Service/JournalService.cs:line 297
   at MomentOfUs.API.Controllers.SharedJournalController.GetAllUsersWithAccess() in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Controllers/SharedJournalController.cs:line 89
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at MomentOfUs.API.Extensions.GlobalErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/abdullahtariq/Documents/GitHub/MomentOfUsBackend/MomentOfUs-API/MomentOfUs.API/Extensions/GlobalErrorHandlingMiddleware.cs:line 28
2025-02-23 22:44:07.4400 Warn NotFoundException: No shared journals found for user ID 6a9bc996-8614-49d4-8428-e59aa95bf599. 
2025-02-23 22:44:07.4686 Info Request finished HTTP/1.1 GET http://localhost:5063/api/journals/96b5c156-3fa6-4473-b41b-4a89ed1c02ec/shared/users - 404 - application/json 3282.4598ms 
